<!doctype html>
<html lang="id">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NGECEMES - Menu Interaktif</title>
  <script src="/_sdk/element_sdk.js"></script>
  <script src="/_sdk/data_sdk.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
        body {
            box-sizing: border-box;
        }
        
        @import url('https://fonts.googleapis.com/css2?family=Fredoka:wght@300;400;500;600;700&family=Poppins:wght@300;400;500;600;700;800&display=swap');
        
        .font-fredoka { font-family: 'Fredoka', cursive; }
        .font-poppins { font-family: 'Poppins', sans-serif; }
        
        .bg-pattern {
            background-image: 
                radial-gradient(circle at 20% 50%, rgba(255, 165, 0, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(255, 192, 203, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 80%, rgba(144, 238, 144, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 60% 30%, rgba(255, 255, 0, 0.05) 0%, transparent 50%),
                radial-gradient(circle at 10% 70%, rgba(255, 99, 71, 0.08) 0%, transparent 40%),
                radial-gradient(circle at 90% 80%, rgba(147, 112, 219, 0.06) 0%, transparent 45%),
                radial-gradient(circle at 30% 10%, rgba(255, 20, 147, 0.07) 0%, transparent 35%),
                radial-gradient(circle at 70% 60%, rgba(50, 205, 50, 0.09) 0%, transparent 55%);
            background-size: 300px 300px, 250px 250px, 200px 200px, 350px 350px, 180px 180px, 220px 220px, 160px 160px, 280px 280px;
            animation: float 20s ease-in-out infinite;
            position: relative;
        }
        
        .bg-pattern::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: 
                url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='50' font-size='40' opacity='0.1'%3EüßÑ%3C/text%3E%3C/svg%3E"),
                url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='50' font-size='35' opacity='0.08'%3Eüå∂Ô∏è%3C/text%3E%3C/svg%3E"),
                url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='50' font-size='38' opacity='0.09'%3EüçÉ%3C/text%3E%3C/svg%3E"),
                url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='50' font-size='36' opacity='0.07'%3Eü¶ê%3C/text%3E%3C/svg%3E"),
                url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='50' font-size='30' opacity='0.06'%3E‚ú®%3C/text%3E%3C/svg%3E"),
                url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='50' font-size='32' opacity='0.05'%3Eüî•%3C/text%3E%3C/svg%3E"),
                url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='50' font-size='28' opacity='0.08'%3EüçΩÔ∏è%3C/text%3E%3C/svg%3E"),
                url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='50' font-size='34' opacity='0.06'%3Eü•¢%3C/text%3E%3C/svg%3E"),
                url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='50' font-size='26' opacity='0.07'%3Eüçö%3C/text%3E%3C/svg%3E"),
                url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='50' font-size='29' opacity='0.05'%3Eü•Ñ%3C/text%3E%3C/svg%3E"),
                url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='50' font-size='33' opacity='0.09'%3EüßÖ%3C/text%3E%3C/svg%3E"),
                url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='50' font-size='31' opacity='0.06'%3Eüåø%3C/text%3E%3C/svg%3E"),
                url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='50' font-size='27' opacity='0.08'%3Eüçã%3C/text%3E%3C/svg%3E"),
                url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='50' font-size='25' opacity='0.07'%3EüßÇ%3C/text%3E%3C/svg%3E"),
                url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='50' font-size='35' opacity='0.05'%3Eü••%3C/text%3E%3C/svg%3E"),
                url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='50' font-size='24' opacity='0.06'%3E‚≠ê%3C/text%3E%3C/svg%3E"),
                url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='50' font-size='28' opacity='0.04'%3Eüí´%3C/text%3E%3C/svg%3E"),
                url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='50' font-size='22' opacity='0.08'%3Eüåü%3C/text%3E%3C/svg%3E");
            background-size: 120px 120px, 100px 100px, 110px 110px, 95px 95px, 80px 80px, 85px 85px, 90px 90px, 105px 105px, 75px 75px, 88px 88px, 115px 115px, 92px 92px, 78px 78px, 70px 70px, 125px 125px, 65px 65px, 82px 82px, 68px 68px;
            background-position: 
                10% 15%, 85% 25%, 25% 70%, 75% 80%, 50% 40%, 90% 60%,
                15% 35%, 70% 10%, 40% 85%, 95% 45%, 5% 55%, 60% 20%,
                30% 90%, 80% 65%, 20% 5%, 45% 75%, 65% 50%, 35% 25%;
            background-repeat: no-repeat;
            animation: ornament-float 25s ease-in-out infinite;
            pointer-events: none;
            z-index: 0;
        }
        
        .bg-pattern::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: 
                url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='50' font-size='20' opacity='0.04'%3Eüçú%3C/text%3E%3C/svg%3E"),
                url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='50' font-size='18' opacity='0.05'%3Eü•°%3C/text%3E%3C/svg%3E"),
                url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='50' font-size='22' opacity='0.03'%3Eüç±%3C/text%3E%3C/svg%3E"),
                url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='50' font-size='16' opacity='0.06'%3Eü•ò%3C/text%3E%3C/svg%3E"),
                url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='50' font-size='19' opacity='0.04'%3Eüç≤%3C/text%3E%3C/svg%3E"),
                url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='50' font-size='21' opacity='0.05'%3Eü•ó%3C/text%3E%3C/svg%3E"),
                url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='50' font-size='17' opacity='0.03'%3Eüçõ%3C/text%3E%3C/svg%3E"),
                url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='50' font-size='23' opacity='0.04'%3Eü•ô%3C/text%3E%3C/svg%3E"),
                url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='50' font-size='15' opacity='0.06'%3EüåÆ%3C/text%3E%3C/svg%3E"),
                url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='50' font-size='20' opacity='0.03'%3EüåØ%3C/text%3E%3C/svg%3E");
            background-size: 60px 60px, 55px 55px, 65px 65px, 50px 50px, 58px 58px, 62px 62px, 52px 52px, 68px 68px, 48px 48px, 63px 63px;
            background-position: 
                12% 22%, 88% 18%, 22% 78%, 78% 88%, 52% 32%, 92% 72%,
                18% 42%, 72% 8%, 42% 92%, 98% 52%;
            background-repeat: no-repeat;
            animation: ornament-float-secondary 30s ease-in-out infinite reverse;
            pointer-events: none;
            z-index: 1;
        }
        
        @keyframes ornament-float-secondary {
            0%, 100% { 
                background-position: 
                    12% 22%, 88% 18%, 22% 78%, 78% 88%, 52% 32%, 92% 72%,
                    18% 42%, 72% 8%, 42% 92%, 98% 52%;
                transform: rotate(0deg) scale(1);
            }
            33% { 
                background-position: 
                    18% 28%, 82% 24%, 28% 72%, 72% 82%, 48% 38%, 86% 66%,
                    24% 48%, 66% 14%, 48% 86%, 92% 58%;
                transform: rotate(-3deg) scale(1.05);
            }
            66% { 
                background-position: 
                    24% 34%, 76% 30%, 34% 66%, 66% 76%, 44% 44%, 80% 60%,
                    30% 54%, 60% 20%, 54% 80%, 86% 64%;
                transform: rotate(2deg) scale(0.95);
            }
        }
        
        @keyframes float {
            0%, 100% { 
                background-position: 0% 0%, 100% 0%, 0% 100%, 100% 100%, 50% 50%, 25% 75%, 75% 25%, 12% 88%;
                background-size: 300px 300px, 250px 250px, 200px 200px, 350px 350px, 180px 180px, 220px 220px, 160px 160px, 280px 280px;
            }
            25% { 
                background-position: 100% 0%, 0% 100%, 100% 0%, 0% 0%, 75% 25%, 50% 50%, 25% 75%, 88% 12%;
                background-size: 320px 320px, 270px 270px, 220px 220px, 370px 370px, 200px 200px, 240px 240px, 180px 180px, 300px 300px;
            }
            50% { 
                background-position: 100% 100%, 0% 0%, 100% 100%, 0% 100%, 25% 75%, 75% 25%, 50% 50%, 62% 38%;
                background-size: 280px 280px, 230px 230px, 180px 180px, 330px 330px, 160px 160px, 200px 200px, 140px 140px, 260px 260px;
            }
            75% { 
                background-position: 0% 100%, 100% 0%, 0% 0%, 100% 100%, 50% 50%, 25% 75%, 75% 25%, 38% 62%;
                background-size: 310px 310px, 260px 260px, 210px 210px, 360px 360px, 190px 190px, 230px 230px, 170px 170px, 290px 290px;
            }
        }
        
        @keyframes ornament-float {
            0%, 100% { 
                background-position: 
                    10% 15%, 85% 25%, 25% 70%, 75% 80%, 50% 40%, 90% 60%,
                    15% 35%, 70% 10%, 40% 85%, 95% 45%, 5% 55%, 60% 20%,
                    30% 90%, 80% 65%, 20% 5%, 45% 75%, 65% 50%, 35% 25%;
                transform: rotate(0deg);
            }
            25% { 
                background-position: 
                    15% 20%, 80% 30%, 30% 65%, 70% 75%, 45% 45%, 85% 55%,
                    20% 40%, 65% 15%, 35% 80%, 90% 50%, 10% 60%, 55% 25%,
                    25% 85%, 75% 70%, 15% 10%, 40% 80%, 60% 55%, 30% 30%;
                transform: rotate(2deg);
            }
            50% { 
                background-position: 
                    20% 25%, 75% 35%, 35% 60%, 65% 70%, 40% 50%, 80% 50%,
                    25% 45%, 60% 20%, 30% 75%, 85% 55%, 15% 65%, 50% 30%,
                    20% 80%, 70% 75%, 10% 15%, 35% 85%, 55% 60%, 25% 35%;
                transform: rotate(-1deg);
            }
            75% { 
                background-position: 
                    15% 20%, 80% 30%, 30% 65%, 70% 75%, 45% 45%, 85% 55%,
                    20% 40%, 65% 15%, 35% 80%, 90% 50%, 10% 60%, 55% 25%,
                    25% 85%, 75% 70%, 15% 10%, 40% 80%, 60% 55%, 30% 30%;
                transform: rotate(1deg);
            }
        }
        
        .card-hover {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .card-hover:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 25px 50px rgba(0,0,0,0.15);
        }
        
        .bounce-animation {
            animation: bounce 2s infinite;
        }
        
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }
        
        .wiggle {
            animation: wiggle 1s ease-in-out infinite;
        }
        
        @keyframes wiggle {
            0%, 100% { transform: rotate(0deg); }
            25% { transform: rotate(5deg); }
            75% { transform: rotate(-5deg); }
        }
        
        .pulse-glow {
            animation: pulse-glow 2s ease-in-out infinite alternate;
        }
        
        @keyframes pulse-glow {
            from { box-shadow: 0 0 20px rgba(147, 51, 234, 0.5); }
            to { box-shadow: 0 0 30px rgba(147, 51, 234, 0.8); }
        }
        
        .slide-in {
            animation: slideIn 0.5s ease-out;
        }
        
        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .quantity-btn {
            transition: all 0.2s ease;
        }
        
        .quantity-btn:hover {
            transform: scale(1.1);
        }
        
        .quantity-btn:active {
            transform: scale(0.95);
        }
        
        .mascot-float {
            animation: mascot-float 3s ease-in-out infinite;
        }
        
        @keyframes mascot-float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-15px) rotate(2deg); }
        }
        
        .sparkle {
            position: relative;
            overflow: hidden;
        }
        
        .sparkle::before {
            content: '‚ú®';
            position: absolute;
            top: -10px;
            right: -10px;
            animation: sparkle 2s ease-in-out infinite;
        }
        
        @keyframes sparkle {
            0%, 100% { opacity: 0; transform: scale(0.5) rotate(0deg); }
            50% { opacity: 1; transform: scale(1) rotate(180deg); }
        }
        
        @keyframes mascot-celebrate {
            0% { transform: translateY(0px) rotate(0deg) scale(1); }
            25% { transform: translateY(-20px) rotate(-10deg) scale(1.1); }
            50% { transform: translateY(-30px) rotate(10deg) scale(1.2); }
            75% { transform: translateY(-20px) rotate(-5deg) scale(1.1); }
            100% { transform: translateY(0px) rotate(0deg) scale(1); }
        }
        
        .loading-spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #ff6b35;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .cart-badge {
            animation: cart-bounce 0.3s ease-out;
        }
        
        @keyframes cart-bounce {
            0% { transform: scale(1); }
            50% { transform: scale(1.3); }
            100% { transform: scale(1); }
        }
        
        .modal-backdrop {
            backdrop-filter: blur(10px);
        }
        
        .gradient-text {
            background: linear-gradient(45deg, #ff6b35, #f7931e, #ffd700);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .level-indicator {
            display: inline-flex;
            align-items: center;
            gap: 2px;
        }
        
        .spicy-level-1::after { content: 'üå∂Ô∏è'; }
        .spicy-level-2::after { content: 'üå∂Ô∏èüå∂Ô∏è'; }
        .spicy-level-3::after { content: 'üå∂Ô∏èüå∂Ô∏èüå∂Ô∏è'; }
        .spicy-level-4::after { content: 'üå∂Ô∏èüå∂Ô∏èüå∂Ô∏èüå∂Ô∏è'; }
        
        .interactive-mascot {
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .interactive-mascot:hover {
            transform: scale(1.1) rotate(5deg);
        }
        
        .interactive-mascot:active {
            transform: scale(0.95) rotate(-5deg);
        }
        
        .scroll-container {
            max-height: 100vh;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
        }
        
        .scroll-container::-webkit-scrollbar {
            display: none;
        }
        
        .modal-content {
            max-height: 90vh;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
        }
        
        .modal-content::-webkit-scrollbar {
            display: none;
        }
        
        /* Remove default scrollbar for all elements */
        * {
            scrollbar-width: none;
            -ms-overflow-style: none;
        }
        
        *::-webkit-scrollbar {
            display: none;
        }
        
        /* Ensure smooth scrolling */
        html {
            scroll-behavior: smooth;
        }
        
        body {
            overflow-x: hidden;
            -webkit-overflow-scrolling: touch;
        }
    </style>
  <style>@view-transition { navigation: auto; }</style>
 </head>
 <body class="min-h-full bg-gradient-to-br from-orange-50 via-pink-50 to-green-50 bg-pattern font-poppins"><!-- Header -->
  <header class="bg-gradient-to-r from-orange-800 via-pink-800 to-green-800 text-white shadow-2xl relative overflow-hidden">
   <div class="absolute inset-0 bg-white bg-opacity-10"></div>
   <div class="relative max-w-6xl mx-auto px-6 py-8">
    <div class="text-center"><!-- Logo -->
     <div class="mb-4"><img src="https://iili.io/KP2A1P2.png" alt="NGECEMES Logo" class="w-24 h-24 mx-auto rounded-full shadow-lg bounce-animation">
     </div>
     <h1 id="store-name" class="font-fredoka text-5xl font-bold mb-2 gradient-text drop-shadow-lg">NGECEMES</h1>
     <p id="store-tagline" class="font-poppins text-xl mb-4 text-white drop-shadow-md">Pilihan Teman Ngemilmu Hanya Bareng NGECEMES</p><!-- Slogan -->
     <div class="bg-white bg-opacity-20 rounded-3xl p-6 mb-4 backdrop-blur-sm">
      <p class="font-fredoka text-lg font-semibold text-center leading-relaxed">"Bingung Mau Makan Tapi Cuma Ada Nasi?<br><span class="text-yellow-200">EMESin Aja Bareng NGECEMES</span><br>
        Gurihnya Bikin Gemas Menghilangkan Rasa Cemas"</p>
     </div><!-- Product Description -->
     <div class="bg-white bg-opacity-15 rounded-2xl p-4 text-sm">
      <p class="font-poppins leading-relaxed">NGECEMES Merupakan Produk Makanan Ringan Berupa Kremesan Yang Hadir Dengan Varian Rasa Yang Berbeda Untuk Menambah Pengalaman Baru Dalam Menyantap Hidangan Anda.</p>
      <p class="font-poppins leading-relaxed mt-2">NGECEMES Bukan Sekedar Topping Tambahan Untuk Makanan Saja, Namun Juga Untuk Camilan Yang Nikmat Guna Menemani Galau, Cemas, Dan Kesedihanmu.</p>
     </div>
    </div>
   </div>
  </header>
  <main class="max-w-6xl mx-auto px-6 py-8 relative z-10"><!-- Mascot EMES -->
   <div class="text-center mb-8">
    <div class="inline-block relative"><img src="https://iili.io/KPFTPee.png" alt="Maskot EMES" class="w-32 h-32 mx-auto mascot-float interactive-mascot" id="mascot-emes" onclick="mascotInteraction()">
     <div class="absolute -top-2 -right-2 bg-yellow-400 text-yellow-800 px-2 py-1 rounded-full text-xs font-bold animate-pulse">
      EMES
     </div>
    </div>
    <div id="mascot-speech" class="mt-4 bg-white rounded-2xl p-4 shadow-lg max-w-md mx-auto hidden">
     <p class="font-fredoka text-orange-600 font-semibold">Halo! Aku EMES, siap membantu kamu memilih menu terenak! ü§ó</p>
    </div>
   </div><!-- Menu Grid -->
   <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-8"><!-- Original Variant -->
    <div class="card-hover bg-gradient-to-br from-orange-100 to-orange-200 rounded-3xl p-6 shadow-xl border-4 border-orange-300 sparkle">
     <div class="text-center mb-4">
      <div class="text-6xl mb-2">
       üßÑ
      </div>
      <h3 class="font-fredoka text-2xl font-bold text-orange-800 mb-2">Original</h3>
      <p class="font-poppins text-sm text-orange-700 leading-relaxed"><strong>Komposisi:</strong> Tepung tapioka, Tepung beras, tepung bumbu, ayam, telur, minyak goreng, air, bawang putih, garam, gula, penyedap, beking powder, rempah-rempah.</p>
     </div>
     <div class="space-y-3 mb-4">
      <div class="bg-white rounded-2xl p-3 border-2 border-orange-200">
       <div class="text-center mb-3">
        <div class="font-poppins text-sm font-semibold text-orange-800 mb-1">
         50g (Kaum Hemat)
        </div>
        <div class="font-fredoka text-lg font-bold text-orange-600">
         Rp 12.000
        </div>
       </div>
       <div class="flex items-center justify-center space-x-2 mb-3"><button class="quantity-btn bg-orange-500 text-white w-8 h-8 rounded-full font-bold" onclick="changeQuantity('original-50', -1)">-</button> <span class="font-bold text-orange-800 w-8 text-center" id="qty-original-50">0</span> <button class="quantity-btn bg-orange-500 text-white w-8 h-8 rounded-full font-bold" onclick="changeQuantity('original-50', 1)">+</button>
       </div><button class="w-full bg-orange-500 text-white px-4 py-2 rounded-xl font-semibold hover:bg-orange-600 transition-all" onclick="addToCart('original', '50g', 12000, 'original-50')">Pesan</button>
      </div>
      <div class="bg-white rounded-2xl p-3 border-2 border-orange-200">
       <div class="text-center mb-3">
        <div class="font-poppins text-sm font-semibold text-orange-800 mb-1">
         100g (Kaum Mendang-mending)
        </div>
        <div class="font-fredoka text-lg font-bold text-orange-600">
         Rp 18.000
        </div>
       </div>
       <div class="flex items-center justify-center space-x-2 mb-3"><button class="quantity-btn bg-orange-500 text-white w-8 h-8 rounded-full font-bold" onclick="changeQuantity('original-100', -1)">-</button> <span class="font-bold text-orange-800 w-8 text-center" id="qty-original-100">0</span> <button class="quantity-btn bg-orange-500 text-white w-8 h-8 rounded-full font-bold" onclick="changeQuantity('original-100', 1)">+</button>
       </div><button class="w-full bg-orange-500 text-white px-4 py-2 rounded-xl font-semibold hover:bg-orange-600 transition-all" onclick="addToCart('original', '100g', 18000, 'original-100')">Pesan</button>
      </div>
      <div class="bg-white rounded-2xl p-3 border-2 border-orange-200">
       <div class="text-center mb-3">
        <div class="font-poppins text-sm font-semibold text-orange-800 mb-1">
         200g (Kaum Sultan)
        </div>
        <div class="font-fredoka text-lg font-bold text-orange-600">
         Rp 35.000
        </div>
       </div>
       <div class="flex items-center justify-center space-x-2 mb-3"><button class="quantity-btn bg-orange-500 text-white w-8 h-8 rounded-full font-bold" onclick="changeQuantity('original-200', -1)">-</button> <span class="font-bold text-orange-800 w-8 text-center" id="qty-original-200">0</span> <button class="quantity-btn bg-orange-500 text-white w-8 h-8 rounded-full font-bold" onclick="changeQuantity('original-200', 1)">+</button>
       </div><button class="w-full bg-orange-500 text-white px-4 py-2 rounded-xl font-semibold hover:bg-orange-600 transition-all" onclick="addToCart('original', '200g', 35000, 'original-200')">Pesan</button>
      </div>
     </div>
    </div><!-- Pedas Gacor Variant -->
    <div class="card-hover bg-gradient-to-br from-gray-800 to-red-900 rounded-3xl p-6 shadow-xl border-4 border-red-500 sparkle text-white">
     <div class="text-center mb-4">
      <div class="text-6xl mb-2">
       üå∂Ô∏è
      </div>
      <h3 class="font-fredoka text-2xl font-bold mb-2">Pedas Gacor</h3>
      <p class="font-poppins text-sm text-gray-200 leading-relaxed"><strong>Komposisi:</strong> Tepung tapioka, Tepung beras, tepung bumbu, ayam, telur, minyak goreng, air, bawang putih, garam, gula, penyedap, beking powder, rempah-rempah, cabe kering.</p>
     </div><!-- Spicy Level Selection -->
     <div class="mb-4">
      <p class="font-fredoka text-center font-bold mb-2 text-yellow-300">Pilih Level Pedas:</p>
      <div class="grid grid-cols-2 gap-2"><button class="spicy-level bg-red-600 hover:bg-red-700 px-3 py-2 rounded-xl text-sm font-semibold transition-all spicy-level-1" onclick="selectSpicyLevel(1)" id="spicy-1">Level 1</button> <button class="spicy-level bg-red-600 hover:bg-red-700 px-3 py-2 rounded-xl text-sm font-semibold transition-all spicy-level-2" onclick="selectSpicyLevel(2)" id="spicy-2">Level 2</button> <button class="spicy-level bg-red-600 hover:bg-red-700 px-3 py-2 rounded-xl text-sm font-semibold transition-all spicy-level-3" onclick="selectSpicyLevel(3)" id="spicy-3">Level 3</button> <button class="spicy-level bg-red-600 hover:bg-red-700 px-3 py-2 rounded-xl text-sm font-semibold transition-all spicy-level-4" onclick="selectSpicyLevel(4)" id="spicy-4">Level 4</button>
      </div>
     </div>
     <div class="space-y-3 mb-4" id="pedas-sizes">
      <div class="bg-gray-700 rounded-2xl p-3 border-2 border-red-400">
       <div class="text-center mb-3">
        <div class="font-poppins text-sm font-semibold mb-1">
         50g (Kaum Hemat)
        </div>
        <div class="font-fredoka text-lg font-bold text-red-400">
         Rp 12.000
        </div>
       </div>
       <div class="flex items-center justify-center space-x-2 mb-3"><button class="quantity-btn bg-red-600 text-white w-8 h-8 rounded-full font-bold" onclick="changeQuantity('pedas-50', -1)">-</button> <span class="font-bold w-8 text-center" id="qty-pedas-50">0</span> <button class="quantity-btn bg-red-600 text-white w-8 h-8 rounded-full font-bold" onclick="changeQuantity('pedas-50', 1)">+</button>
       </div><button class="w-full bg-red-600 text-white px-4 py-2 rounded-xl font-semibold hover:bg-red-700 transition-all" onclick="addPedasToCart('50g', 12000, 'pedas-50')">Pesan</button>
      </div>
      <div class="bg-gray-700 rounded-2xl p-3 border-2 border-red-400">
       <div class="text-center mb-3">
        <div class="font-poppins text-sm font-semibold mb-1">
         100g (Kaum Mendang-mending)
        </div>
        <div class="font-fredoka text-lg font-bold text-red-400">
         Rp 18.000
        </div>
       </div>
       <div class="flex items-center justify-center space-x-2 mb-3"><button class="quantity-btn bg-red-600 text-white w-8 h-8 rounded-full font-bold" onclick="changeQuantity('pedas-100', -1)">-</button> <span class="font-bold w-8 text-center" id="qty-pedas-100">0</span> <button class="quantity-btn bg-red-600 text-white w-8 h-8 rounded-full font-bold" onclick="changeQuantity('pedas-100', 1)">+</button>
       </div><button class="w-full bg-red-600 text-white px-4 py-2 rounded-xl font-semibold hover:bg-red-700 transition-all" onclick="addPedasToCart('100g', 18000, 'pedas-100')">Pesan</button>
      </div>
      <div class="bg-gray-700 rounded-2xl p-3 border-2 border-red-400">
       <div class="text-center mb-3">
        <div class="font-poppins text-sm font-semibold mb-1">
         200g (Kaum Sultan)
        </div>
        <div class="font-fredoka text-lg font-bold text-red-400">
         Rp 35.000
        </div>
       </div>
       <div class="flex items-center justify-center space-x-2 mb-3"><button class="quantity-btn bg-red-600 text-white w-8 h-8 rounded-full font-bold" onclick="changeQuantity('pedas-200', -1)">-</button> <span class="font-bold w-8 text-center" id="qty-pedas-200">0</span> <button class="quantity-btn bg-red-600 text-white w-8 h-8 rounded-full font-bold" onclick="changeQuantity('pedas-200', 1)">+</button>
       </div><button class="w-full bg-red-600 text-white px-4 py-2 rounded-xl font-semibold hover:bg-red-700 transition-all" onclick="addPedasToCart('200g', 35000, 'pedas-200')">Pesan</button>
      </div>
     </div>
    </div><!-- Daun Jeruk Variant -->
    <div class="card-hover bg-gradient-to-br from-green-100 to-green-200 rounded-3xl p-6 shadow-xl border-4 border-green-300 sparkle">
     <div class="text-center mb-4">
      <div class="text-6xl mb-2">
       üçÉ
      </div>
      <h3 class="font-fredoka text-2xl font-bold text-green-800 mb-2">Daun Jeruk</h3>
      <p class="font-poppins text-sm text-green-700 leading-relaxed"><strong>Komposisi:</strong> Tepung tapioka, Tepung beras, tepung bumbu, ayam, telur, minyak goreng, air, bawang putih, garam, gula, penyedap, beking powder, rempah-rempah, extra daun jeruk kering.</p>
     </div>
     <div class="space-y-3 mb-4">
      <div class="bg-white rounded-2xl p-3 border-2 border-green-200">
       <div class="text-center mb-3">
        <div class="font-poppins text-sm font-semibold text-green-800 mb-1">
         50g (Kaum Hemat)
        </div>
        <div class="font-fredoka text-lg font-bold text-green-600">
         Rp 12.000
        </div>
       </div>
       <div class="flex items-center justify-center space-x-2 mb-3"><button class="quantity-btn bg-green-500 text-white w-8 h-8 rounded-full font-bold" onclick="changeQuantity('jeruk-50', -1)">-</button> <span class="font-bold text-green-800 w-8 text-center" id="qty-jeruk-50">0</span> <button class="quantity-btn bg-green-500 text-white w-8 h-8 rounded-full font-bold" onclick="changeQuantity('jeruk-50', 1)">+</button>
       </div><button class="w-full bg-green-500 text-white px-4 py-2 rounded-xl font-semibold hover:bg-green-600 transition-all" onclick="addToCart('daun-jeruk', '50g', 12000, 'jeruk-50')">Pesan</button>
      </div>
      <div class="bg-white rounded-2xl p-3 border-2 border-green-200">
       <div class="text-center mb-3">
        <div class="font-poppins text-sm font-semibold text-green-800 mb-1">
         100g (Kaum Mendang-mending)
        </div>
        <div class="font-fredoka text-lg font-bold text-green-600">
         Rp 18.000
        </div>
       </div>
       <div class="flex items-center justify-center space-x-2 mb-3"><button class="quantity-btn bg-green-500 text-white w-8 h-8 rounded-full font-bold" onclick="changeQuantity('jeruk-100', -1)">-</button> <span class="font-bold text-green-800 w-8 text-center" id="qty-jeruk-100">0</span> <button class="quantity-btn bg-green-500 text-white w-8 h-8 rounded-full font-bold" onclick="changeQuantity('jeruk-100', 1)">+</button>
       </div><button class="w-full bg-green-500 text-white px-4 py-2 rounded-xl font-semibold hover:bg-green-600 transition-all" onclick="addToCart('daun-jeruk', '100g', 18000, 'jeruk-100')">Pesan</button>
      </div>
      <div class="bg-white rounded-2xl p-3 border-2 border-green-200">
       <div class="text-center mb-3">
        <div class="font-poppins text-sm font-semibold text-green-800 mb-1">
         200g (Kaum Sultan)
        </div>
        <div class="font-fredoka text-lg font-bold text-green-600">
         Rp 35.000
        </div>
       </div>
       <div class="flex items-center justify-center space-x-2 mb-3"><button class="quantity-btn bg-green-500 text-white w-8 h-8 rounded-full font-bold" onclick="changeQuantity('jeruk-200', -1)">-</button> <span class="font-bold text-green-800 w-8 text-center" id="qty-jeruk-200">0</span> <button class="quantity-btn bg-green-500 text-white w-8 h-8 rounded-full font-bold" onclick="changeQuantity('jeruk-200', 1)">+</button>
       </div><button class="w-full bg-green-500 text-white px-4 py-2 rounded-xl font-semibold hover:bg-green-600 transition-all" onclick="addToCart('daun-jeruk', '200g', 35000, 'jeruk-200')">Pesan</button>
      </div>
     </div>
    </div><!-- Udang/Ebi Variant -->
    <div class="card-hover bg-gradient-to-br from-pink-100 to-pink-200 rounded-3xl p-6 shadow-xl border-4 border-pink-300 sparkle">
     <div class="text-center mb-4">
      <div class="text-6xl mb-2">
       ü¶ê
      </div>
      <h3 class="font-fredoka text-2xl font-bold text-pink-800 mb-2">Udang/Ebi</h3>
      <p class="font-poppins text-sm text-pink-700 leading-relaxed"><strong>Komposisi:</strong> Tepung tapioka, Tepung beras, tepung bumbu, ayam, telur, minyak goreng, air, bawang putih, garam, gula, penyedap, beking powder, rempah-rempah, ebi (udang kecil).</p>
     </div>
     <div class="space-y-3 mb-4">
      <div class="bg-white rounded-2xl p-3 border-2 border-pink-200">
       <div class="text-center mb-3">
        <div class="font-poppins text-sm font-semibold text-pink-800 mb-1">
         50g (Kaum Hemat)
        </div>
        <div class="font-fredoka text-lg font-bold text-pink-600">
         Rp 12.000
        </div>
       </div>
       <div class="flex items-center justify-center space-x-2 mb-3"><button class="quantity-btn bg-pink-500 text-white w-8 h-8 rounded-full font-bold" onclick="changeQuantity('ebi-50', -1)">-</button> <span class="font-bold text-pink-800 w-8 text-center" id="qty-ebi-50">0</span> <button class="quantity-btn bg-pink-500 text-white w-8 h-8 rounded-full font-bold" onclick="changeQuantity('ebi-50', 1)">+</button>
       </div><button class="w-full bg-pink-500 text-white px-4 py-2 rounded-xl font-semibold hover:bg-pink-600 transition-all" onclick="addToCart('udang-ebi', '50g', 12000, 'ebi-50')">Pesan</button>
      </div>
      <div class="bg-white rounded-2xl p-3 border-2 border-pink-200">
       <div class="text-center mb-3">
        <div class="font-poppins text-sm font-semibold text-pink-800 mb-1">
         100g (Kaum Mendang-mending)
        </div>
        <div class="font-fredoka text-lg font-bold text-pink-600">
         Rp 18.000
        </div>
       </div>
       <div class="flex items-center justify-center space-x-2 mb-3"><button class="quantity-btn bg-pink-500 text-white w-8 h-8 rounded-full font-bold" onclick="changeQuantity('ebi-100', -1)">-</button> <span class="font-bold text-pink-800 w-8 text-center" id="qty-ebi-100">0</span> <button class="quantity-btn bg-pink-500 text-white w-8 h-8 rounded-full font-bold" onclick="changeQuantity('ebi-100', 1)">+</button>
       </div><button class="w-full bg-pink-500 text-white px-4 py-2 rounded-xl font-semibold hover:bg-pink-600 transition-all" onclick="addToCart('udang-ebi', '100g', 18000, 'ebi-100')">Pesan</button>
      </div>
      <div class="bg-white rounded-2xl p-3 border-2 border-pink-200">
       <div class="text-center mb-3">
        <div class="font-poppins text-sm font-semibold text-pink-800 mb-1">
         200g (Kaum Sultan)
        </div>
        <div class="font-fredoka text-lg font-bold text-pink-600">
         Rp 35.000
        </div>
       </div>
       <div class="flex items-center justify-center space-x-2 mb-3"><button class="quantity-btn bg-pink-500 text-white w-8 h-8 rounded-full font-bold" onclick="changeQuantity('ebi-200', -1)">-</button> <span class="font-bold text-pink-800 w-8 text-center" id="qty-ebi-200">0</span> <button class="quantity-btn bg-pink-500 text-white w-8 h-8 rounded-full font-bold" onclick="changeQuantity('ebi-200', 1)">+</button>
       </div><button class="w-full bg-pink-500 text-white px-4 py-2 rounded-xl font-semibold hover:bg-pink-600 transition-all" onclick="addToCart('udang-ebi', '200g', 35000, 'ebi-200')">Pesan</button>
      </div>
     </div>
    </div>
   </div><!-- Shopping Cart -->
   <div class="fixed bottom-6 right-6 z-50"><button id="cart-btn" class="bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-full px-6 py-4 flex items-center justify-center space-x-3 shadow-2xl hover:from-purple-700 hover:to-indigo-700 transition-all pulse-glow" onclick="toggleCart()">
     <div class="relative"><span class="text-2xl">üõí</span> <span id="cart-count" class="absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full w-6 h-6 flex items-center justify-center font-bold cart-badge">0</span>
     </div><span class="font-fredoka font-bold text-lg">Checkout</span> </button>
   </div>
  </main><!-- Cart Modal -->
  <div id="cart-modal" class="fixed inset-0 bg-black bg-opacity-50 modal-backdrop hidden z-50 flex items-center justify-center p-4">
   <div class="bg-white rounded-3xl max-w-2xl w-full p-6 modal-content slide-in">
    <div class="flex items-center justify-between mb-6">
     <div class="flex items-center space-x-4"><img src="https://iili.io/KPKdsHl.png" alt="Maskot Keranjang" class="w-16 h-16 mascot-float">
      <h3 class="font-fredoka text-2xl font-bold text-gray-800">Keranjang Belanja</h3>
     </div><button id="close-cart" class="text-gray-500 hover:text-gray-700 text-2xl" onclick="toggleCart()">‚úï</button>
    </div>
    <div id="cart-items" class="space-y-4 mb-6">
     <div class="text-center py-8 text-gray-500">
      <div class="text-4xl mb-2">
       üõí
      </div>
      <p class="font-poppins">Keranjang masih kosong</p>
     </div>
    </div>
    <div id="cart-total" class="bg-gradient-to-r from-orange-100 to-pink-100 rounded-2xl p-4 mb-6 hidden">
     <div class="flex justify-between items-center"><span class="font-fredoka text-xl font-bold text-gray-800">Total:</span> <span class="font-fredoka text-2xl font-bold text-orange-600" id="total-amount">Rp 0</span>
     </div>
    </div>
    <div id="cart-actions" class="space-y-3 hidden"><button class="w-full bg-gradient-to-r from-green-500 to-blue-500 text-white font-fredoka font-bold py-4 px-6 rounded-2xl hover:from-green-600 hover:to-blue-600 transition-all" onclick="showOrderConfirmation()"> Konfirmasi Pesanan </button> <button class="w-full bg-gray-500 text-white font-poppins font-semibold py-3 px-6 rounded-2xl hover:bg-gray-600 transition-all" onclick="clearCart()"> Kosongkan Keranjang </button>
    </div>
   </div>
  </div><!-- Order Confirmation Modal -->
  <div id="order-modal" class="fixed inset-0 bg-black bg-opacity-50 modal-backdrop hidden z-50 flex items-center justify-center p-4">
   <div class="bg-white rounded-3xl max-w-2xl w-full p-6 modal-content fade-in">
    <div class="text-center mb-6">
     <div class="text-6xl mb-4">
      üìã
     </div>
     <h3 class="font-fredoka text-2xl font-bold text-gray-800">Konfirmasi Pesanan</h3>
    </div>
    <form id="order-form" class="space-y-4 mb-6">
     <div><label class="block font-poppins font-semibold text-gray-700 mb-2">Nama Lengkap</label> <input type="text" id="customer-name" required class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-orange-500 focus:outline-none font-poppins" placeholder="Masukkan nama lengkap">
     </div>
     <div><label class="block font-poppins font-semibold text-gray-700 mb-2">Nomor WhatsApp</label> <input type="tel" id="customer-phone" required class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-orange-500 focus:outline-none font-poppins" placeholder="08xxxxxxxxxx">
     </div>
     <div><label class="block font-poppins font-semibold text-gray-700 mb-2">Catatan Tambahan (Opsional)</label> <textarea id="order-notes" rows="3" class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-orange-500 focus:outline-none font-poppins resize-none" placeholder="Catatan khusus untuk pesanan..."></textarea>
     </div>
    </form>
    <div id="order-summary" class="bg-gray-50 rounded-xl p-3 mb-4">
     <h4 class="font-fredoka text-base font-bold text-gray-800 mb-2">Ringkasan Pesanan:</h4>
     <div id="order-items-list"></div>
     <div class="border-t pt-2 mt-2">
      <div class="flex justify-between items-center"><span class="font-fredoka text-lg font-bold text-gray-800">Total Pembayaran:</span> <span class="font-fredoka text-xl font-bold text-orange-600" id="final-total">Rp 0</span>
      </div>
     </div>
    </div>
    <div class="space-y-2"><button class="w-full bg-gradient-to-r from-green-500 to-blue-500 text-white font-fredoka font-bold py-3 px-4 rounded-xl hover:from-green-600 hover:to-blue-600 transition-all" onclick="showPaymentOptions()"> Lanjut ke Pembayaran </button> <button class="w-full bg-gray-500 text-white font-poppins font-semibold py-2 px-4 rounded-xl hover:bg-gray-600 transition-all" onclick="closeOrderModal()"> Kembali ke Keranjang </button>
    </div>
   </div>
  </div><!-- Payment Options Modal -->
  <div id="payment-modal" class="fixed inset-0 bg-black bg-opacity-50 modal-backdrop hidden z-50 flex items-center justify-center p-4">
   <div class="bg-white rounded-3xl max-w-md w-full p-6 modal-content fade-in">
    <div class="text-center mb-6">
     <div class="text-6xl mb-4">
      üí≥
     </div>
     <h3 class="font-fredoka text-2xl font-bold text-gray-800">Pilih Metode Pembayaran</h3>
    </div>
    <div class="space-y-4"><button class="w-full bg-gradient-to-r from-green-500 to-green-600 text-white font-poppins font-semibold py-4 px-6 rounded-2xl hover:from-green-600 hover:to-green-700 transition-all flex items-center justify-center space-x-3" onclick="selectPayment('cash')"> <span class="text-2xl">üíµ</span> <span>Bayar Tunai</span> </button> <button class="w-full bg-gradient-to-r from-orange-500 to-orange-600 text-white font-poppins font-semibold py-4 px-6 rounded-2xl hover:from-orange-600 hover:to-orange-700 transition-all flex items-center justify-center space-x-3" onclick="selectPayment('cod')"> <span class="text-2xl">üöö</span> <span>COD (Bayar di Tempat)</span> </button> <button class="w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white font-poppins font-semibold py-4 px-6 rounded-2xl hover:from-blue-600 hover:to-purple-700 transition-all flex items-center justify-center space-x-3" onclick="selectPayment('qris')"> <span class="text-2xl">üì±</span> <span>QRIS</span> </button>
    </div><button class="w-full mt-4 bg-gray-500 text-white font-poppins font-semibold py-3 px-6 rounded-2xl hover:bg-gray-600 transition-all" onclick="closePaymentModal()"> Kembali </button>
   </div>
  </div><!-- COD Address Modal -->
  <div id="cod-modal" class="fixed inset-0 bg-black bg-opacity-50 modal-backdrop hidden z-50 flex items-center justify-center p-4">
   <div class="bg-white rounded-3xl max-w-2xl w-full p-6 modal-content fade-in">
    <div class="text-center mb-6">
     <div class="text-4xl mb-4">
      üöö
     </div>
     <h3 class="font-fredoka text-2xl font-bold text-gray-800">Alamat Pengantaran COD</h3>
     <p class="font-poppins text-gray-600 mt-2">Isi alamat lengkap untuk pengantaran</p>
    </div>
    <form id="cod-form" class="space-y-4 mb-6">
     <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <div><label class="block font-poppins font-semibold text-gray-700 mb-2">Nama Penerima</label> <input type="text" id="cod-receiver-name" required class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-orange-500 focus:outline-none font-poppins" placeholder="Nama penerima">
      </div>
      <div><label class="block font-poppins font-semibold text-gray-700 mb-2">Nomor HP Penerima</label> <input type="tel" id="cod-receiver-phone" required class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-orange-500 focus:outline-none font-poppins" placeholder="08xxxxxxxxxx">
      </div>
     </div>
     <div><label class="block font-poppins font-semibold text-gray-700 mb-2">Alamat Lengkap</label> <textarea id="cod-address" rows="3" required class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-orange-500 focus:outline-none font-poppins resize-none" placeholder="Jalan, RT/RW, Kelurahan, Kecamatan..."></textarea>
     </div>
     <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <div><label class="block font-poppins font-semibold text-gray-700 mb-2">Kota</label> <input type="text" id="cod-city" required class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-orange-500 focus:outline-none font-poppins" placeholder="Nama kota">
      </div>
      <div><label class="block font-poppins font-semibold text-gray-700 mb-2">Kode Pos</label> <input type="text" id="cod-postal" required class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-orange-500 focus:outline-none font-poppins" placeholder="12345">
      </div>
     </div>
     <div><label class="block font-poppins font-semibold text-gray-700 mb-2">Patokan/Landmark (Opsional)</label> <input type="text" id="cod-landmark" class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-orange-500 focus:outline-none font-poppins" placeholder="Dekat masjid, sebelah warung, dll...">
     </div>
     <div><label class="block font-poppins font-semibold text-gray-700 mb-2">Catatan untuk Kurir (Opsional)</label> <textarea id="cod-courier-notes" rows="2" class="w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:border-orange-500 focus:outline-none font-poppins resize-none" placeholder="Instruksi khusus untuk kurir..."></textarea>
     </div>
    </form><!-- COD Info -->
    <div class="bg-blue-50 rounded-2xl p-4 mb-6">
     <h5 class="font-fredoka text-lg font-bold text-blue-800 mb-2">üìã Info Pengantaran COD</h5>
     <ul class="font-poppins text-sm text-blue-700 space-y-1">
      <li>‚Ä¢ Pembayaran dilakukan saat barang diterima</li>
      <li>‚Ä¢ Estimasi pengantaran: 1-3 hari kerja</li>
      <li>‚Ä¢ Ongkir akan dihitung berdasarkan jarak</li>
      <li>‚Ä¢ Kurir akan menghubungi sebelum pengantaran</li>
     </ul>
    </div>
    <div class="space-y-3"><button class="w-full bg-gradient-to-r from-orange-500 to-orange-600 text-white font-poppins font-semibold py-4 px-6 rounded-2xl hover:from-orange-600 hover:to-orange-700 transition-all" onclick="confirmCODOrder()"> üöö Konfirmasi Pesanan COD </button> <button class="w-full bg-gray-500 text-white font-poppins font-semibold py-3 px-6 rounded-2xl hover:bg-gray-600 transition-all" onclick="backToPaymentOptions()"> ‚Üê Kembali ke Opsi Pembayaran </button>
    </div>
   </div>
  </div><!-- QRIS Payment Modal -->
  <div id="qris-modal" class="fixed inset-0 bg-black bg-opacity-50 modal-backdrop hidden z-50 flex items-center justify-center p-4">
   <div class="bg-white rounded-3xl max-w-lg w-full p-6 modal-content fade-in">
    <div class="text-center mb-6">
     <div class="text-4xl mb-4">
      üì±
     </div>
     <h3 class="font-fredoka text-2xl font-bold text-gray-800">Pembayaran QRIS</h3>
     <p class="font-poppins text-gray-600 mt-2">Scan QR Code di bawah untuk melakukan pembayaran</p>
    </div>
    <div class="text-center mb-6">
     <div class="bg-gray-100 rounded-2xl p-4 mb-4"><img src="https://iili.io/KP3BNst.png" alt="QRIS Code" class="w-48 h-48 mx-auto rounded-xl shadow-lg">
     </div>
     <div class="bg-orange-100 rounded-2xl p-4 mb-4">
      <p class="font-fredoka text-lg font-bold text-orange-800">Total Pembayaran:</p>
      <p class="font-fredoka text-2xl font-bold text-orange-600" id="qris-total">Rp 0</p>
     </div><!-- Payment Confirmation Section -->
     <div class="bg-green-50 rounded-2xl p-4 mb-4">
      <h5 class="font-fredoka text-lg font-bold text-green-800 mb-2">‚úÖ Konfirmasi Pembayaran</h5>
      <p class="font-poppins text-sm text-green-700 mb-3">Setelah melakukan pembayaran QRIS, upload bukti pembayaran untuk konfirmasi pesanan.</p><!-- Upload Bukti Section -->
      <div class="bg-white rounded-xl p-3 mb-3"><input type="file" id="qris-proof-input" accept="image/*" class="hidden" onchange="previewQRISProof(event)">
       <div id="qris-proof-preview" class="hidden bg-gray-50 rounded-lg p-3 mb-3"><img id="qris-proof-image" src="" alt="Preview Bukti" class="w-full max-w-xs mx-auto rounded-lg shadow-md">
        <p class="text-center text-sm text-gray-600 mt-2" id="qris-proof-filename"></p>
       </div><button id="select-qris-proof-btn" class="w-full bg-blue-500 text-white font-poppins font-semibold py-3 px-4 rounded-xl hover:bg-blue-600 transition-all flex items-center justify-center space-x-2" onclick="selectQRISProof()"> <span class="text-lg">üì∑</span> <span>Pilih Bukti Pembayaran</span> </button> <button id="upload-qris-proof-btn" class="w-full bg-green-500 text-white font-poppins font-semibold py-3 px-4 rounded-xl hover:bg-green-600 transition-all hidden flex items-center justify-center space-x-2" onclick="uploadQRISProof()"> <span class="text-lg">‚¨ÜÔ∏è</span> <span>Upload &amp; Konfirmasi</span> </button>
       <div id="qris-upload-loading" class="hidden text-center py-2">
        <div class="inline-flex items-center space-x-2">
         <div class="loading-spinner"></div><span class="font-poppins text-sm text-gray-600">Mengupload bukti...</span>
        </div>
       </div>
      </div>
     </div>
     <div class="space-y-3"><button class="w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white font-poppins font-semibold py-3 px-6 rounded-2xl hover:from-blue-600 hover:to-purple-700 transition-all" onclick="downloadQRIS()"> üì• Unduh QRIS </button> <button class="w-full bg-gray-500 text-white font-poppins font-semibold py-3 px-6 rounded-2xl hover:bg-gray-600 transition-all" onclick="backToPaymentOptions()"> ‚Üê Kembali ke Opsi Pembayaran </button>
     </div>
    </div>
   </div>
  </div><!-- Payment Success Modal -->
  <div id="success-modal" class="fixed inset-0 bg-black bg-opacity-50 modal-backdrop hidden z-50 flex items-center justify-center p-4">
   <div class="bg-white rounded-3xl max-w-lg w-full p-6 modal-content fade-in text-center"><!-- Success Animation -->
    <div class="mb-6">
     <div class="w-24 h-24 mx-auto bg-green-100 rounded-full flex items-center justify-center mb-4 animate-bounce"><span class="text-4xl">‚úÖ</span>
     </div>
     <h3 class="font-fredoka text-3xl font-bold text-green-600 mb-2">Pembayaran Berhasil!</h3>
     <p class="font-poppins text-gray-600">Pesanan Anda telah dikonfirmasi</p>
    </div><!-- Order Details -->
    <div class="bg-gray-50 rounded-2xl p-4 mb-6 text-left">
     <h4 class="font-fredoka text-lg font-bold text-gray-800 mb-3 text-center">Detail Pesanan</h4>
     <div class="space-y-2">
      <div class="flex justify-between"><span class="font-poppins text-sm text-gray-600">ID Pesanan:</span> <span class="font-poppins text-sm font-semibold text-gray-800" id="success-order-id">-</span>
      </div>
      <div class="flex justify-between"><span class="font-poppins text-sm text-gray-600">Nama:</span> <span class="font-poppins text-sm font-semibold text-gray-800" id="success-customer-name">-</span>
      </div>
      <div class="flex justify-between"><span class="font-poppins text-sm text-gray-600">Total:</span> <span class="font-fredoka text-lg font-bold text-green-600" id="success-total-amount">Rp 0</span>
      </div>
      <div class="flex justify-between"><span class="font-poppins text-sm text-gray-600">Metode:</span> <span class="font-poppins text-sm font-semibold text-gray-800" id="success-payment-method">-</span>
      </div>
     </div>
    </div><!-- Interactive Actions -->
    <div class="space-y-3"><!-- Order Again --> <button class="w-full bg-gradient-to-r from-orange-500 to-pink-500 text-white font-poppins font-semibold py-3 px-6 rounded-2xl hover:from-orange-600 hover:to-pink-600 transition-all flex items-center justify-center space-x-3" onclick="orderAgain()"> <span class="text-xl">üîÑ</span> <span>Pesan Lagi</span> </button> <!-- Close --> <button class="w-full bg-gray-500 text-white font-poppins font-semibold py-3 px-6 rounded-2xl hover:bg-gray-600 transition-all" onclick="closeSuccessModal()"> Tutup </button>
    </div><!-- Fun Elements -->
    <div class="mt-6 text-center">
     <div class="inline-flex items-center space-x-2 bg-yellow-100 rounded-full px-4 py-2"><span class="text-lg animate-bounce">üéâ</span> <span class="font-fredoka text-sm font-semibold text-yellow-800">Terima kasih sudah mempercayai NGECEMES!</span> <span class="text-lg animate-bounce">üéâ</span>
     </div>
    </div>
   </div>
  </div><!-- Address Viewer Modal -->
  <div id="address-viewer-modal" class="fixed inset-0 bg-black bg-opacity-50 modal-backdrop hidden z-50 flex items-center justify-center p-4">
   <div class="bg-white rounded-3xl max-w-2xl w-full p-6 modal-content fade-in">
    <div class="flex items-center justify-between mb-6">
     <h3 class="font-fredoka text-2xl font-bold text-gray-800">üìç Alamat Pengantaran</h3><button class="text-gray-500 hover:text-gray-700 text-2xl" onclick="closeAddressViewer()">‚úï</button>
    </div>
    <div class="bg-gray-50 rounded-2xl p-4 mb-4">
     <div class="space-y-3" id="address-details"><!-- Address details will be populated here -->
     </div>
    </div>
    <div class="space-y-3"><button id="copy-address-btn" class="w-full bg-blue-500 text-white font-poppins font-semibold py-3 px-6 rounded-2xl hover:bg-blue-600 transition-all flex items-center justify-center space-x-3" onclick="copyFullAddress()"> <span class="text-xl">üìã</span> <span>Salin Alamat Lengkap</span> </button> <button class="w-full bg-gray-500 text-white font-poppins font-semibold py-3 px-6 rounded-2xl hover:bg-gray-600 transition-all" onclick="closeAddressViewer()"> Tutup </button>
    </div>
   </div>
  </div><!-- Admin Dashboard Button (Hidden from customers) -->
  <div class="fixed top-6 right-6 z-40 hidden" id="admin-access"><button class="bg-gradient-to-r from-purple-500 to-indigo-600 text-white rounded-full w-12 h-12 flex items-center justify-center shadow-lg hover:from-purple-600 hover:to-indigo-700 transition-all" onclick="toggleAdminDashboard()" title="Admin Dashboard"> <span class="text-xl">üë®‚Äçüíº</span> </button>
  </div><!-- Mobile Admin Access Button (Triple tap mascot) -->
  <div class="fixed bottom-20 left-6 z-40 hidden" id="mobile-admin-hint">
   <div class="bg-purple-500 text-white px-3 py-2 rounded-xl text-xs font-poppins shadow-lg animate-pulse">
    Tap maskot 3x untuk admin
   </div>
  </div><!-- Admin Dashboard Modal -->
  <div id="admin-modal" class="fixed inset-0 bg-black bg-opacity-50 modal-backdrop hidden z-50 flex items-center justify-center p-4">
   <div class="bg-white rounded-3xl max-w-6xl w-full p-6 modal-content fade-in">
    <div class="flex items-center justify-between mb-6">
     <h3 class="font-fredoka text-2xl font-bold text-gray-800">Dashboard Admin - NGECEMES</h3><button class="text-gray-500 hover:text-gray-700 text-2xl" onclick="toggleAdminDashboard()">‚úï</button>
    </div><!-- Tab Navigation -->
    <div class="flex space-x-4 mb-6 border-b border-gray-200"><button id="orders-tab" class="px-4 py-2 font-poppins font-semibold text-blue-600 border-b-2 border-blue-600" onclick="switchAdminTab('orders')"> üìã Daftar Pesanan </button> <button id="proofs-tab" class="px-4 py-2 font-poppins font-semibold text-gray-500 hover:text-blue-600" onclick="switchAdminTab('proofs')"> üìÅ Data Bukti Pembayaran </button>
    </div><!-- Orders Tab Content -->
    <div id="orders-content" class="tab-content"><!-- Stats Cards -->
     <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
      <div class="bg-gradient-to-r from-blue-500 to-blue-600 rounded-2xl p-4 text-white">
       <div class="text-2xl mb-2">
        üìä
       </div>
       <div class="text-2xl font-bold" id="admin-total-orders">
        0
       </div>
       <div class="text-sm opacity-90">
        Total Pesanan
       </div>
      </div>
      <div class="bg-gradient-to-r from-green-500 to-green-600 rounded-2xl p-4 text-white">
       <div class="text-2xl mb-2">
        üí∞
       </div>
       <div class="text-2xl font-bold" id="admin-total-revenue">
        Rp 0
       </div>
       <div class="text-sm opacity-90">
        Total Pendapatan
       </div>
      </div>
      <div class="bg-gradient-to-r from-orange-500 to-orange-600 rounded-2xl p-4 text-white">
       <div class="text-2xl mb-2">
        üìÖ
       </div>
       <div class="text-2xl font-bold" id="admin-today-orders">
        0
       </div>
       <div class="text-sm opacity-90">
        Pesanan Hari Ini
       </div>
      </div>
     </div><!-- Orders List -->
     <div class="bg-gray-50 rounded-2xl p-4">
      <h4 class="font-fredoka text-lg font-bold text-gray-800 mb-4">Daftar Pesanan</h4>
      <div id="admin-orders-list" class="overflow-x-auto">
       <div class="text-center py-8 text-gray-500">
        <div class="text-4xl mb-2">
         üìã
        </div>
        <p class="font-poppins">Belum ada pesanan</p>
       </div>
      </div>
     </div>
    </div><!-- Payment Proofs Tab Content -->
    <div id="proofs-content" class="tab-content hidden"><!-- Proof Stats Cards -->
     <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
      <div class="bg-gradient-to-r from-purple-500 to-purple-600 rounded-2xl p-4 text-white">
       <div class="text-2xl mb-2">
        üì±
       </div>
       <div class="text-2xl font-bold" id="admin-total-proofs">
        0
       </div>
       <div class="text-sm opacity-90">
        Total Bukti QRIS
       </div>
      </div>
      <div class="bg-gradient-to-r from-yellow-500 to-yellow-600 rounded-2xl p-4 text-white">
       <div class="text-2xl mb-2">
        ‚è≥
       </div>
       <div class="text-2xl font-bold" id="admin-pending-proofs">
        0
       </div>
       <div class="text-sm opacity-90">
        Menunggu Konfirmasi
       </div>
      </div>
      <div class="bg-gradient-to-r from-green-500 to-green-600 rounded-2xl p-4 text-white">
       <div class="text-2xl mb-2">
        ‚úÖ
       </div>
       <div class="text-2xl font-bold" id="admin-confirmed-proofs">
        0
       </div>
       <div class="text-sm opacity-90">
        Sudah Dikonfirmasi
       </div>
      </div>
      <div class="bg-gradient-to-r from-indigo-500 to-indigo-600 rounded-2xl p-4 text-white">
       <div class="text-2xl mb-2">
        üíæ
       </div>
       <div class="text-2xl font-bold" id="admin-data-size">
        0 MB
       </div>
       <div class="text-sm opacity-90">
        Total Ukuran Data
       </div>
      </div>
     </div><!-- Proof Management Actions -->
     <div class="flex flex-wrap gap-3 mb-6"><button class="bg-blue-500 text-white px-4 py-2 rounded-xl font-poppins font-semibold hover:bg-blue-600 transition-all flex items-center space-x-2" onclick="refreshProofData()"> <span>üîÑ</span> <span>Refresh Data</span> </button> <button class="bg-green-500 text-white px-4 py-2 rounded-xl font-poppins font-semibold hover:bg-green-600 transition-all flex items-center space-x-2" onclick="downloadAllProofs()"> <span>üì•</span> <span>Download Semua</span> </button>
     </div><!-- Payment Proofs Grid -->
     <div class="bg-gray-50 rounded-2xl p-4">
      <h4 class="font-fredoka text-lg font-bold text-gray-800 mb-4">Collection Bukti Pembayaran</h4>
      <div id="admin-proofs-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
       <div class="text-center py-8 text-gray-500 col-span-full">
        <div class="text-4xl mb-2">
         üìÅ
        </div>
        <p class="font-poppins">Belum ada bukti pembayaran</p>
       </div>
      </div>
     </div>
    </div>
   </div>
  </div><!-- Footer -->
  <footer class="bg-gradient-to-r from-orange-800 via-pink-800 to-green-800 text-white py-8 mt-12">
   <div class="max-w-6xl mx-auto px-6 text-center">
    <p id="contact-info" class="font-poppins text-lg mb-4">WhatsApp: 083866962904</p><!-- Social Media Section -->
    <div class="mb-6">
     <h4 class="font-fredoka text-xl font-bold mb-4">Ikuti Kami di Media Sosial</h4>
     <div class="flex justify-center space-x-6"><!-- Instagram --> <a href="https://instagram.com/NGECEMESBARENG" target="_blank" rel="noopener noreferrer" class="group bg-white bg-opacity-20 hover:bg-opacity-30 rounded-full p-4 transition-all duration-300 hover:scale-110 hover:rotate-6">
       <svg class="w-8 h-8 text-white group-hover:text-pink-200" fill="currentColor" viewbox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z" />
       </svg></a> <!-- TikTok --> <a href="https://tiktok.com/@NGECEMESBARENG" target="_blank" rel="noopener noreferrer" class="group bg-white bg-opacity-20 hover:bg-opacity-30 rounded-full p-4 transition-all duration-300 hover:scale-110 hover:rotate-6">
       <svg class="w-8 h-8 text-white group-hover:text-gray-200" fill="currentColor" viewbox="0 0 24 24"><path d="M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.2 1.74 2.89 2.89 0 0 1 2.31-4.64 2.93 2.93 0 0 1 .88.13V9.4a6.84 6.84 0 0 0-1-.05A6.33 6.33 0 0 0 5 20.1a6.34 6.34 0 0 0 10.86-4.43v-7a8.16 8.16 0 0 0 4.77 1.52v-3.4a4.85 4.85 0 0 1-1-.1z" />
       </svg></a>
     </div><!-- Social Media Handles -->
     <div class="mt-4 space-y-1">
      <p class="font-poppins text-sm opacity-90">üì± @NGECEMESBARENG</p>
      <p class="font-poppins text-xs opacity-75">Follow untuk update menu terbaru &amp; promo menarik!</p>
     </div>
    </div>
    <p class="font-poppins text-sm opacity-90">¬© 2025 NGECEMES - Powered by Canva Code</p>
   </div>
  </footer>
  <script>
        const defaultConfig = {
            store_name: "NGECEMES",
            store_tagline: "Pilihan Teman Ngemilmu Hanya Bareng NGECEMES",
            contact_info: "WhatsApp: 083866962904",
            primary_color: "#ff6b35",
            secondary_color: "#ff1744",
            accent_color: "#4caf50",
            background_color: "#fff3e0",
            text_color: "#333333",
            font_family: "Poppins",
            font_size: 16
        };

        let cart = [];
        let selectedSpicyLevel = 1;
        let orders = [];
        let quantities = {};
        let currentAdminTab = 'orders';

        // Initialize quantities
        const initQuantities = () => {
            const variants = ['original-50', 'original-100', 'original-200', 'pedas-50', 'pedas-100', 'pedas-200', 'jeruk-50', 'jeruk-100', 'jeruk-200', 'ebi-50', 'ebi-100', 'ebi-200'];
            variants.forEach(variant => {
                quantities[variant] = 0;
            });
        };

        // Data SDK handler
        const dataHandler = {
            onDataChanged(data) {
                orders = data || [];
                updateAdminDashboard();
            }
        };

        // Initialize Data SDK
        async function initializeDataSdk() {
            if (window.dataSdk) {
                try {
                    console.log('Initializing Data SDK...');
                    const result = await window.dataSdk.init(dataHandler);
                    if (result.isOk) {
                        console.log('Data SDK initialized successfully');
                        showNotification('Sistem database siap! üìä', 'success');
                    } else {
                        console.error('Failed to initialize Data SDK:', result.error);
                        showNotification('Gagal menginisialisasi database', 'error');
                    }
                } catch (error) {
                    console.error('Error initializing Data SDK:', error);
                    showNotification('Error saat menginisialisasi database', 'error');
                }
            } else {
                console.error('Data SDK not available');
                showNotification('Data SDK tidak tersedia', 'error');
            }
        }

        // Generate unique ID
        function generateOrderId() {
            return 'ORD_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
        }

        // Compress image function
        function compressImage(base64String, quality = 0.7) {
            return new Promise((resolve, reject) => {
                const canvas = document.createElement('canvas');
                const ctx = canvas.getContext('2d');
                const img = new Image();
                
                img.onload = function() {
                    // Calculate new dimensions (max 1000px width/height)
                    let { width, height } = img;
                    const maxSize = 1000;
                    
                    if (width > height) {
                        if (width > maxSize) {
                            height = (height * maxSize) / width;
                            width = maxSize;
                        }
                    } else {
                        if (height > maxSize) {
                            width = (width * maxSize) / height;
                            height = maxSize;
                        }
                    }
                    
                    canvas.width = width;
                    canvas.height = height;
                    
                    // Draw and compress
                    ctx.drawImage(img, 0, 0, width, height);
                    const compressedBase64 = canvas.toDataURL('image/jpeg', quality);
                    resolve(compressedBase64);
                };
                
                img.onerror = () => reject(new Error('Failed to load image'));
                img.src = base64String;
            });
        }

        // Change quantity
        function changeQuantity(variantId, change) {
            quantities[variantId] = Math.max(0, quantities[variantId] + change);
            document.getElementById(`qty-${variantId}`).textContent = quantities[variantId];
        }

        // Mascot interaction with admin access
        let mascotTapCount = 0;
        let mascotTapTimer = null;
        
        function mascotInteraction() {
            const speech = document.getElementById('mascot-speech');
            
            // Count taps for admin access
            mascotTapCount++;
            
            // Clear previous timer
            if (mascotTapTimer) {
                clearTimeout(mascotTapTimer);
            }
            
            // Check for admin access (3 taps within 2 seconds)
            if (mascotTapCount >= 3) {
                // Activate admin mode
                document.getElementById('admin-access').classList.remove('hidden');
                document.getElementById('mobile-admin-hint').classList.add('hidden');
                
                speech.querySelector('p').textContent = "Mode Admin Diaktifkan! Selamat datang, Admin! üë®‚Äçüíº";
                speech.classList.remove('hidden');
                
                showNotification('Dashboard Admin tersedia! üë®‚Äçüíº', 'success');
                
                setTimeout(() => {
                    speech.classList.add('hidden');
                }, 3000);
                
                mascotTapCount = 0;
                return;
            }
            
            // Show hint after 2 taps
            if (mascotTapCount === 2) {
                document.getElementById('mobile-admin-hint').classList.remove('hidden');
                setTimeout(() => {
                    document.getElementById('mobile-admin-hint').classList.add('hidden');
                }, 3000);
            }
            
            // Reset counter after 2 seconds
            mascotTapTimer = setTimeout(() => {
                mascotTapCount = 0;
                document.getElementById('mobile-admin-hint').classList.add('hidden');
            }, 2000);
            
            // Normal mascot messages
            const messages = [
                "Halo! Aku EMES, siap membantu kamu memilih menu terenak! ü§ó",
                "Psst... Menu Original adalah favorit pelanggan lho! üòã",
                "Kalau suka pedas, coba Pedas Gacor level 4! Dijamin nagih! üî•",
                "Daun Jeruk memberikan aroma segar yang unik! üçÉ",
                "Udang/Ebi punya rasa gurih yang bikin ketagihan! ü¶ê"
            ];
            
            const randomMessage = messages[Math.floor(Math.random() * messages.length)];
            speech.querySelector('p').textContent = randomMessage;
            speech.classList.remove('hidden');
            
            setTimeout(() => {
                speech.classList.add('hidden');
            }, 4000);
        }

        // Select spicy level
        function selectSpicyLevel(level) {
            selectedSpicyLevel = level;
            document.querySelectorAll('.spicy-level').forEach(btn => {
                btn.classList.remove('bg-red-800', 'ring-4', 'ring-yellow-400');
                btn.classList.add('bg-red-600');
            });
            
            const selectedBtn = document.getElementById(`spicy-${level}`);
            selectedBtn.classList.remove('bg-red-600');
            selectedBtn.classList.add('bg-red-800', 'ring-4', 'ring-yellow-400');
        }

        // Add to cart
        function addToCart(variant, size, price, quantityId) {
            const quantity = quantities[quantityId];
            if (quantity === 0) {
                showNotification('Pilih jumlah terlebih dahulu!', 'error');
                return;
            }

            const item = {
                id: Date.now() + Math.random(),
                variant: variant,
                size: size,
                price: price,
                quantity: quantity,
                total: price * quantity
            };

            cart.push(item);
            quantities[quantityId] = 0;
            document.getElementById(`qty-${quantityId}`).textContent = 0;
            
            updateCartUI();
            showNotification(`${quantity}x ${variant} ${size} ditambahkan ke keranjang!`, 'success');
        }

        // Add pedas to cart with level
        function addPedasToCart(size, price, quantityId) {
            const quantity = quantities[quantityId];
            if (quantity === 0) {
                showNotification('Pilih jumlah terlebih dahulu!', 'error');
                return;
            }

            const item = {
                id: Date.now() + Math.random(),
                variant: `pedas-gacor-level-${selectedSpicyLevel}`,
                size: size,
                price: price,
                quantity: quantity,
                total: price * quantity,
                spicyLevel: selectedSpicyLevel
            };

            cart.push(item);
            quantities[quantityId] = 0;
            document.getElementById(`qty-${quantityId}`).textContent = 0;
            
            updateCartUI();
            showNotification(`${quantity}x Pedas Gacor Level ${selectedSpicyLevel} ${size} ditambahkan ke keranjang!`, 'success');
        }

        // Update cart UI
        function updateCartUI() {
            const cartCount = document.getElementById('cart-count');
            const cartItems = document.getElementById('cart-items');
            const cartTotal = document.getElementById('cart-total');
            const cartActions = document.getElementById('cart-actions');
            
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            const totalAmount = cart.reduce((sum, item) => sum + item.total, 0);
            
            cartCount.textContent = totalItems;
            cartCount.classList.add('cart-badge');
            setTimeout(() => cartCount.classList.remove('cart-badge'), 300);
            
            if (cart.length === 0) {
                cartItems.innerHTML = `
                    <div class="text-center py-8 text-gray-500">
                        <div class="text-4xl mb-2">üõí</div>
                        <p class="font-poppins">Keranjang masih kosong</p>
                    </div>
                `;
                cartTotal.classList.add('hidden');
                cartActions.classList.add('hidden');
            } else {
                cartItems.innerHTML = cart.map(item => `
                    <div class="bg-gray-50 rounded-2xl p-4 flex items-center justify-between">
                        <div class="flex-1">
                            <h4 class="font-fredoka font-bold text-gray-800 capitalize">${item.variant.replace(/-/g, ' ')}</h4>
                            <p class="font-poppins text-sm text-gray-600">${item.size} √ó ${item.quantity}</p>
                            ${item.spicyLevel ? `<p class="font-poppins text-xs text-red-600">Level Pedas: ${item.spicyLevel}</p>` : ''}
                        </div>
                        <div class="text-right">
                            <p class="font-fredoka font-bold text-orange-600">Rp ${item.total.toLocaleString()}</p>
                            <button class="text-red-500 hover:text-red-700 text-sm" onclick="removeFromCart(${item.id})">Hapus</button>
                        </div>
                    </div>
                `).join('');
                
                document.getElementById('total-amount').textContent = `Rp ${totalAmount.toLocaleString()}`;
                cartTotal.classList.remove('hidden');
                cartActions.classList.remove('hidden');
            }
        }

        // Remove from cart
        function removeFromCart(itemId) {
            cart = cart.filter(item => item.id !== itemId);
            updateCartUI();
            showNotification('Item dihapus dari keranjang', 'info');
        }

        // Clear cart
        function clearCart() {
            cart = [];
            updateCartUI();
            showNotification('Keranjang dikosongkan', 'info');
        }

        // Toggle cart
        function toggleCart() {
            const modal = document.getElementById('cart-modal');
            modal.classList.toggle('hidden');
        }

        // Show order confirmation
        function showOrderConfirmation() {
            if (cart.length === 0) {
                showNotification('Keranjang masih kosong!', 'error');
                return;
            }
            
            const orderItemsList = document.getElementById('order-items-list');
            const finalTotal = document.getElementById('final-total');
            
            const totalAmount = cart.reduce((sum, item) => sum + item.total, 0);
            
            orderItemsList.innerHTML = cart.map(item => `
                <div class="flex justify-between items-center py-2 border-b border-gray-200">
                    <div>
                        <span class="font-semibold capitalize">${item.variant.replace(/-/g, ' ')}</span>
                        <span class="text-gray-600"> - ${item.size} √ó ${item.quantity}</span>
                        ${item.spicyLevel ? `<br><span class="text-xs text-red-600">Level Pedas: ${item.spicyLevel}</span>` : ''}
                    </div>
                    <span class="font-bold text-orange-600">Rp ${item.total.toLocaleString()}</span>
                </div>
            `).join('');
            
            finalTotal.textContent = `Rp ${totalAmount.toLocaleString()}`;
            
            document.getElementById('cart-modal').classList.add('hidden');
            document.getElementById('order-modal').classList.remove('hidden');
        }

        // Close order modal
        function closeOrderModal() {
            document.getElementById('order-modal').classList.add('hidden');
            document.getElementById('cart-modal').classList.remove('hidden');
        }

        // Show payment options
        function showPaymentOptions() {
            const customerName = document.getElementById('customer-name').value;
            const customerPhone = document.getElementById('customer-phone').value;
            
            if (!customerName || !customerPhone) {
                showNotification('Mohon lengkapi data pelanggan!', 'error');
                return;
            }
            
            document.getElementById('order-modal').classList.add('hidden');
            document.getElementById('payment-modal').classList.remove('hidden');
        }

        // Close payment modal
        function closePaymentModal() {
            document.getElementById('payment-modal').classList.add('hidden');
            document.getElementById('order-modal').classList.remove('hidden');
        }

        // Select payment method
        function selectPayment(method) {
            if (method === 'cash') {
                confirmCashPayment();
            } else if (method === 'cod') {
                showCODForm();
            } else if (method === 'qris') {
                showQRISPayment();
            }
        }

        // Show COD form
        function showCODForm() {
            // Pre-fill receiver data from customer data
            const customerName = document.getElementById('customer-name').value;
            const customerPhone = document.getElementById('customer-phone').value;
            
            document.getElementById('cod-receiver-name').value = customerName;
            document.getElementById('cod-receiver-phone').value = customerPhone;
            
            document.getElementById('payment-modal').classList.add('hidden');
            document.getElementById('cod-modal').classList.remove('hidden');
        }

        // Confirm COD order
        async function confirmCODOrder() {
            try {
                // Validate COD form
                const receiverName = document.getElementById('cod-receiver-name').value;
                const receiverPhone = document.getElementById('cod-receiver-phone').value;
                const address = document.getElementById('cod-address').value;
                const city = document.getElementById('cod-city').value;
                const postal = document.getElementById('cod-postal').value;
                const landmark = document.getElementById('cod-landmark').value;
                const courierNotes = document.getElementById('cod-courier-notes').value;
                
                if (!receiverName || !receiverPhone || !address || !city || !postal) {
                    throw new Error('Mohon lengkapi semua field yang wajib diisi');
                }
                
                const customerName = document.getElementById('customer-name').value;
                const customerPhone = document.getElementById('customer-phone').value;
                const orderNotes = document.getElementById('order-notes').value;
                
                if (cart.length === 0) {
                    throw new Error('Keranjang kosong');
                }
                
                const totalAmount = cart.reduce((sum, item) => sum + item.total, 0);
                const orderId = generateOrderId();
                
                // Create delivery address object
                const deliveryAddress = {
                    receiver_name: receiverName.trim(),
                    receiver_phone: receiverPhone.trim(),
                    address: address.trim(),
                    city: city.trim(),
                    postal_code: postal.trim(),
                    landmark: landmark ? landmark.trim() : '',
                    courier_notes: courierNotes ? courierNotes.trim() : ''
                };
                
                const order = {
                    order_id: orderId,
                    customer_name: customerName.trim(),
                    customer_phone: customerPhone.trim(),
                    items: JSON.stringify(cart),
                    total_amount: totalAmount,
                    payment_method: 'cod',
                    order_status: 'pending',
                    order_date: new Date().toISOString(),
                    notes: orderNotes ? orderNotes.trim() : '',
                    payment_proof: '',
                    proof_upload_date: '',
                    delivery_address: JSON.stringify(deliveryAddress)
                };
                
                // Check data limit before creating
                if (orders.length >= 999) {
                    throw new Error('Batas maksimal 999 pesanan telah tercapai. Hubungi admin untuk membersihkan data lama.');
                }
                
                console.log('Creating COD order:', order);
                
                if (window.dataSdk) {
                    const result = await window.dataSdk.create(order);
                    console.log('COD order result:', result);
                    
                    if (result.isOk) {
                        // Show success modal
                        showPaymentSuccessModal(order);
                        
                        // Clear cart and close modals
                        cart = [];
                        updateCartUI();
                        document.getElementById('cod-modal').classList.add('hidden');
                        document.getElementById('payment-modal').classList.add('hidden');
                        document.getElementById('order-modal').classList.add('hidden');
                        
                        // Reset forms
                        document.getElementById('order-form').reset();
                        document.getElementById('cod-form').reset();
                        
                        showNotification('Pesanan COD berhasil dibuat! üöö', 'success');
                    } else {
                        console.error('COD order failed:', result.error);
                        throw new Error(result.error?.message || 'Gagal menyimpan pesanan ke database');
                    }
                } else {
                    throw new Error('Data SDK tidak tersedia');
                }
            } catch (error) {
                console.error('Error creating COD order:', error);
                showNotification(`Gagal membuat pesanan COD: ${error.message}`, 'error');
            }
        }

        // Show QRIS payment
        function showQRISPayment() {
            const totalAmount = cart.reduce((sum, item) => sum + item.total, 0);
            document.getElementById('qris-total').textContent = `Rp ${totalAmount.toLocaleString()}`;
            
            document.getElementById('payment-modal').classList.add('hidden');
            document.getElementById('qris-modal').classList.remove('hidden');
        }

        // Back to payment options
        function backToPaymentOptions() {
            document.getElementById('qris-modal').classList.add('hidden');
            document.getElementById('cod-modal').classList.add('hidden');
            document.getElementById('payment-modal').classList.remove('hidden');
        }

        // Download QRIS
        function downloadQRIS() {
            const link = document.createElement('a');
            link.href = 'https://drive.google.com/file/d/1nsrmFEISxIRdKttO7Ql_t3HhOxkaFHDE/view?usp=drivesdk';
            link.target = '_blank';
            link.rel = 'noopener noreferrer';
            link.click();
            
            showNotification('Membuka link unduhan QRIS...', 'info');
        }

        // Select QRIS proof
        function selectQRISProof() {
            document.getElementById('qris-proof-input').click();
        }

        // Preview QRIS proof
        function previewQRISProof(event) {
            const file = event.target.files[0];
            if (!file) return;

            // Validate file type
            if (!file.type.startsWith('image/')) {
                showNotification('Mohon pilih file gambar yang valid!', 'error');
                return;
            }

            // Validate file size (max 5MB)
            if (file.size > 5 * 1024 * 1024) {
                showNotification('Ukuran file terlalu besar! Maksimal 5MB', 'error');
                return;
            }

            const reader = new FileReader();
            reader.onload = function(e) {
                document.getElementById('qris-proof-image').src = e.target.result;
                document.getElementById('qris-proof-filename').textContent = file.name;
                document.getElementById('qris-proof-preview').classList.remove('hidden');
                document.getElementById('upload-qris-proof-btn').classList.remove('hidden');
                
                // Store the base64 data for upload
                window.selectedQRISProofData = e.target.result;
            };
            reader.readAsDataURL(file);
        }

        // Upload QRIS proof
        async function uploadQRISProof() {
            if (!window.selectedQRISProofData) {
                showNotification('Tidak ada bukti yang dipilih!', 'error');
                return;
            }

            // Show loading
            document.getElementById('qris-upload-loading').classList.remove('hidden');
            document.getElementById('upload-qris-proof-btn').classList.add('hidden');

            try {
                const customerName = document.getElementById('customer-name').value;
                const customerPhone = document.getElementById('customer-phone').value;
                const orderNotes = document.getElementById('order-notes').value;
                
                if (!customerName || !customerPhone) {
                    throw new Error('Data pelanggan tidak lengkap');
                }
                
                if (cart.length === 0) {
                    throw new Error('Keranjang kosong');
                }
                
                const totalAmount = cart.reduce((sum, item) => sum + item.total, 0);
                const orderId = generateOrderId();
                
                // Compress image before storing
                const compressedProof = await compressImage(window.selectedQRISProofData, 0.6);
                
                const order = {
                    order_id: orderId,
                    customer_name: customerName.trim(),
                    customer_phone: customerPhone.trim(),
                    items: JSON.stringify(cart),
                    total_amount: totalAmount,
                    payment_method: 'qris',
                    order_status: 'pending',
                    order_date: new Date().toISOString(),
                    notes: orderNotes ? orderNotes.trim() : '',
                    payment_proof: compressedProof,
                    proof_upload_date: new Date().toISOString()
                };
                
                // Check data limit before creating
                if (orders.length >= 999) {
                    throw new Error('Batas maksimal 999 pesanan telah tercapai. Hubungi admin untuk membersihkan data lama.');
                }
                
                console.log('Creating QRIS order with proof:', orderId);
                
                if (window.dataSdk) {
                    const result = await window.dataSdk.create(order);
                    console.log('QRIS order result:', result);
                    
                    if (result.isOk) {
                        // Show success modal
                        showPaymentSuccessModal(order);
                        
                        // Clear cart and close modals
                        cart = [];
                        updateCartUI();
                        document.getElementById('qris-modal').classList.add('hidden');
                        document.getElementById('payment-modal').classList.add('hidden');
                        document.getElementById('order-modal').classList.add('hidden');
                        
                        // Reset form
                        document.getElementById('order-form').reset();
                        
                        showNotification('Bukti pembayaran berhasil diupload! üéâ', 'success');
                    } else {
                        console.error('QRIS order failed:', result.error);
                        throw new Error(result.error?.message || 'Gagal menyimpan pesanan ke database');
                    }
                } else {
                    throw new Error('Data SDK tidak tersedia');
                }
            } catch (error) {
                console.error('Error uploading QRIS proof:', error);
                showNotification(`Gagal mengupload bukti: ${error.message}`, 'error');
                
                // Reset UI
                document.getElementById('qris-upload-loading').classList.add('hidden');
                document.getElementById('upload-qris-proof-btn').classList.remove('hidden');
            }
        }

        // Confirm cash payment directly
        async function confirmCashPayment() {
            try {
                const customerName = document.getElementById('customer-name').value;
                const customerPhone = document.getElementById('customer-phone').value;
                const orderNotes = document.getElementById('order-notes').value;
                
                // Validate required fields
                if (!customerName || !customerPhone) {
                    throw new Error('Data pelanggan tidak lengkap');
                }
                
                if (cart.length === 0) {
                    throw new Error('Keranjang kosong');
                }
                
                const totalAmount = cart.reduce((sum, item) => sum + item.total, 0);
                const orderId = generateOrderId();
                
                const order = {
                    order_id: orderId,
                    customer_name: customerName.trim(),
                    customer_phone: customerPhone.trim(),
                    items: JSON.stringify(cart),
                    total_amount: totalAmount,
                    payment_method: 'cash',
                    order_status: 'pending',
                    order_date: new Date().toISOString(),
                    notes: orderNotes ? orderNotes.trim() : '',
                    payment_proof: '',
                    proof_upload_date: ''
                };
                
                // Check data limit before creating
                if (orders.length >= 999) {
                    throw new Error('Batas maksimal 999 pesanan telah tercapai. Hubungi admin untuk membersihkan data lama.');
                }
                
                console.log('Creating cash order:', order);
                console.log('Current orders count:', orders.length);
                
                if (window.dataSdk) {
                    const result = await window.dataSdk.create(order);
                    console.log('Cash order result:', result);
                    
                    if (result.isOk) {
                        // Show success modal
                        showPaymentSuccessModal(order);
                        
                        // Clear cart and close modals
                        cart = [];
                        updateCartUI();
                        document.getElementById('payment-modal').classList.add('hidden');
                        document.getElementById('order-modal').classList.add('hidden');
                        
                        // Reset form
                        document.getElementById('order-form').reset();
                        
                        showNotification('Pesanan tunai berhasil dibuat! üíµ', 'success');
                    } else {
                        console.error('Cash order failed:', result.error);
                        throw new Error(result.error?.message || 'Gagal menyimpan pesanan ke database');
                    }
                } else {
                    throw new Error('Data SDK tidak tersedia');
                }
            } catch (error) {
                console.error('Error creating cash order:', error);
                showNotification(`Gagal membuat pesanan: ${error.message}`, 'error');
            }
        }

        // Show payment success modal
        function showPaymentSuccessModal(order) {
            document.getElementById('success-order-id').textContent = order.order_id;
            document.getElementById('success-customer-name').textContent = order.customer_name;
            document.getElementById('success-total-amount').textContent = `Rp ${order.total_amount.toLocaleString()}`;
            
            let paymentMethodText = '';
            if (order.payment_method === 'cash') {
                paymentMethodText = 'üíµ Tunai';
            } else if (order.payment_method === 'cod') {
                paymentMethodText = 'üöö COD';
            } else if (order.payment_method === 'qris') {
                paymentMethodText = 'üì± QRIS';
            }
            
            document.getElementById('success-payment-method').textContent = paymentMethodText;
            
            // Store current order for sharing
            window.currentOrder = order;
            
            document.getElementById('success-modal').classList.remove('hidden');
            
            // Trigger confetti animation
            triggerConfetti();
            
            // Auto mascot celebration
            setTimeout(() => {
                mascotCelebration();
            }, 1000);
        }

        // Close success modal
        function closeSuccessModal() {
            document.getElementById('success-modal').classList.add('hidden');
            window.currentOrder = null;
        }

        // Order again
        function orderAgain() {
            const order = window.currentOrder;
            if (!order) return;
            
            // Add previous items back to cart
            const items = JSON.parse(order.items);
            items.forEach(item => {
                cart.push({
                    id: Date.now() + Math.random(),
                    variant: item.variant,
                    size: item.size,
                    price: item.price,
                    quantity: item.quantity,
                    total: item.total,
                    spicyLevel: item.spicyLevel
                });
            });
            
            updateCartUI();
            closeSuccessModal();
            showNotification('Item sebelumnya ditambahkan ke keranjang! üõí', 'success');
        }

        // Trigger confetti animation
        function triggerConfetti() {
            const colors = ['#ff6b35', '#ff1744', '#4caf50', '#ffd700', '#ff69b4'];
            
            for (let i = 0; i < 50; i++) {
                setTimeout(() => {
                    createConfettiPiece(colors[Math.floor(Math.random() * colors.length)]);
                }, i * 50);
            }
        }

        // Create confetti piece
        function createConfettiPiece(color) {
            const confetti = document.createElement('div');
            confetti.style.position = 'fixed';
            confetti.style.width = '10px';
            confetti.style.height = '10px';
            confetti.style.backgroundColor = color;
            confetti.style.left = Math.random() * 100 + '%';
            confetti.style.top = '-10px';
            confetti.style.zIndex = '9999';
            confetti.style.borderRadius = '50%';
            confetti.style.pointerEvents = 'none';
            
            document.body.appendChild(confetti);
            
            const animation = confetti.animate([
                { transform: 'translateY(-10px) rotate(0deg)', opacity: 1 },
                { transform: `translateY(${window.innerHeight + 10}px) rotate(720deg)`, opacity: 0 }
            ], {
                duration: 3000,
                easing: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)'
            });
            
            animation.onfinish = () => confetti.remove();
        }

        // Mascot celebration
        function mascotCelebration() {
            const mascot = document.getElementById('mascot-emes');
            const speech = document.getElementById('mascot-speech');
            
            // Add celebration animation
            mascot.style.animation = 'none';
            setTimeout(() => {
                mascot.style.animation = 'mascot-celebrate 2s ease-in-out';
            }, 10);
            
            // Show celebration message
            const celebrationMessages = [
                "Yeay! Pesanan berhasil! Terima kasih sudah pilih NGECEMES! üéâ",
                "Wah mantap! Pesananmu sudah kami terima! Siap-siap ketagihan! üòã",
                "Horee! Selamat ya! Pesananmu pasti bakal enak banget! ü§§",
                "Sukses! Makasih udah percaya sama NGECEMES! Pasti nagih! üòç"
            ];
            
            const randomMessage = celebrationMessages[Math.floor(Math.random() * celebrationMessages.length)];
            speech.querySelector('p').textContent = randomMessage;
            speech.classList.remove('hidden');
            
            setTimeout(() => {
                speech.classList.add('hidden');
                mascot.style.animation = 'mascot-float 3s ease-in-out infinite';
            }, 5000);
        }

        // Toggle admin dashboard
        function toggleAdminDashboard() {
            const modal = document.getElementById('admin-modal');
            modal.classList.toggle('hidden');
            if (!modal.classList.contains('hidden')) {
                updateAdminDashboard();
            }
        }

        // Switch admin tab
        function switchAdminTab(tab) {
            currentAdminTab = tab;
            
            // Update tab buttons
            document.getElementById('orders-tab').className = tab === 'orders' 
                ? 'px-4 py-2 font-poppins font-semibold text-blue-600 border-b-2 border-blue-600'
                : 'px-4 py-2 font-poppins font-semibold text-gray-500 hover:text-blue-600';
                
            document.getElementById('proofs-tab').className = tab === 'proofs' 
                ? 'px-4 py-2 font-poppins font-semibold text-blue-600 border-b-2 border-blue-600'
                : 'px-4 py-2 font-poppins font-semibold text-gray-500 hover:text-blue-600';
            
            // Show/hide content
            document.getElementById('orders-content').classList.toggle('hidden', tab !== 'orders');
            document.getElementById('proofs-content').classList.toggle('hidden', tab !== 'proofs');
            
            // Update content
            if (tab === 'orders') {
                updateOrdersList();
            } else if (tab === 'proofs') {
                updateProofsGrid();
            }
        }

        // Update admin dashboard
        function updateAdminDashboard() {
            const totalOrders = orders.length;
            const totalRevenue = orders.reduce((sum, order) => sum + order.total_amount, 0);
            const today = new Date().toDateString();
            const todayOrders = orders.filter(order => new Date(order.order_date).toDateString() === today).length;
            
            document.getElementById('admin-total-orders').textContent = totalOrders;
            document.getElementById('admin-total-revenue').textContent = `Rp ${totalRevenue.toLocaleString()}`;
            document.getElementById('admin-today-orders').textContent = todayOrders;
            
            if (currentAdminTab === 'orders') {
                updateOrdersList();
            } else if (currentAdminTab === 'proofs') {
                updateProofsGrid();
            }
        }

        // Update orders list
        function updateOrdersList() {
            const ordersList = document.getElementById('admin-orders-list');
            
            if (orders.length === 0) {
                ordersList.innerHTML = `
                    <div class="text-center py-8 text-gray-500">
                        <div class="text-4xl mb-2">üìã</div>
                        <p class="font-poppins">Belum ada pesanan</p>
                    </div>
                `;
            } else {
                // Create table with detailed order information
                let tableRows = '';
                
                orders
                    .sort((a, b) => new Date(b.order_date) - new Date(a.order_date))
                    .forEach(order => {
                        const orderDate = new Date(order.order_date).toLocaleDateString('id-ID', {
                            day: '2-digit',
                            month: 'short',
                            year: 'numeric'
                        });
                        
                        const orderTime = new Date(order.order_date).toLocaleTimeString('id-ID', {
                            hour: '2-digit',
                            minute: '2-digit'
                        });
                        
                        const items = JSON.parse(order.items);
                        
                        // Payment proof status
                        let proofStatus = '';
                        if (order.payment_method === 'cash') {
                            if (order.order_status === 'confirmed') {
                                const confirmDate = order.proof_upload_date ? new Date(order.proof_upload_date).toLocaleDateString('id-ID', {
                                    day: '2-digit',
                                    month: 'short',
                                    hour: '2-digit',
                                    minute: '2-digit'
                                }) : '';
                                
                                proofStatus = `
                                    <div class="text-center">
                                        <div class="bg-green-100 rounded-lg p-2">
                                            <div class="text-2xl mb-1">üíµ</div>
                                            <div class="text-xs text-green-700 font-semibold">Tunai Terkonfirmasi</div>
                                            ${confirmDate ? `<div class="text-xs text-gray-500">${confirmDate}</div>` : ''}
                                        </div>
                                    </div>
                                `;
                            } else {
                                proofStatus = `
                                    <div class="text-center">
                                        <div class="bg-yellow-100 rounded-lg p-2">
                                            <div class="text-2xl mb-1">‚è≥</div>
                                            <div class="text-xs text-yellow-700 font-semibold">Menunggu Konfirmasi</div>
                                            <button onclick="confirmPayment('${order.order_id}', 'cash')" class="mt-2 bg-green-500 text-white text-xs px-2 py-1 rounded hover:bg-green-600 transition-all">
                                                ‚úÖ Konfirmasi Pembayaran
                                            </button>
                                        </div>
                                    </div>
                                `;
                            }
                        } else if (order.payment_method === 'cod') {
                            if (order.order_status === 'confirmed') {
                                const confirmDate = order.proof_upload_date ? new Date(order.proof_upload_date).toLocaleDateString('id-ID', {
                                    day: '2-digit',
                                    month: 'short',
                                    hour: '2-digit',
                                    minute: '2-digit'
                                }) : '';
                                
                                proofStatus = `
                                    <div class="text-center">
                                        <div class="bg-green-100 rounded-lg p-2">
                                            <div class="text-2xl mb-1">üöö</div>
                                            <div class="text-xs text-green-700 font-semibold">COD Terkonfirmasi</div>
                                            ${confirmDate ? `<div class="text-xs text-gray-500">${confirmDate}</div>` : ''}
                                        </div>
                                    </div>
                                `;
                            } else {
                                proofStatus = `
                                    <div class="text-center">
                                        <div class="bg-yellow-100 rounded-lg p-2">
                                            <div class="text-2xl mb-1">‚è≥</div>
                                            <div class="text-xs text-yellow-700 font-semibold">Menunggu Konfirmasi</div>
                                            <div class="space-y-1 mt-2">
                                                <button onclick="viewDeliveryAddress('${order.order_id}')" class="bg-blue-500 text-white text-xs px-2 py-1 rounded hover:bg-blue-600 transition-all block w-full">
                                                    üìç Lihat Alamat
                                                </button>
                                                <button onclick="confirmPayment('${order.order_id}', 'cod')" class="bg-green-500 text-white text-xs px-2 py-1 rounded hover:bg-green-600 transition-all block w-full">
                                                    ‚úÖ Konfirmasi COD
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                `;
                            }
                        } else if (order.payment_method === 'qris') {
                            if (order.order_status === 'confirmed') {
                                const confirmDate = order.proof_upload_date ? new Date(order.proof_upload_date).toLocaleDateString('id-ID', {
                                    day: '2-digit',
                                    month: 'short',
                                    hour: '2-digit',
                                    minute: '2-digit'
                                }) : '';
                                
                                proofStatus = `
                                    <div class="text-center">
                                        <div class="bg-green-100 rounded-lg p-2">
                                            <div class="text-2xl mb-1">üì±</div>
                                            <div class="text-xs text-green-700 font-semibold">QRIS Terkonfirmasi</div>
                                            ${confirmDate ? `<div class="text-xs text-gray-500">${confirmDate}</div>` : ''}
                                        </div>
                                    </div>
                                `;
                            } else if (order.payment_proof && order.payment_proof.startsWith('data:image')) {
                                proofStatus = `
                                    <div class="text-center">
                                        <div class="bg-blue-100 rounded-lg p-2">
                                            <img src="${order.payment_proof}" alt="Bukti" class="w-12 h-12 object-cover rounded mx-auto mb-1 cursor-pointer" onclick="viewPaymentProof('${order.payment_proof}', '${order.order_id}')">
                                            <div class="text-xs text-blue-700 font-semibold">Bukti Terupload</div>
                                            <div class="text-xs text-gray-500">Klik untuk lihat</div>
                                            <button onclick="confirmPayment('${order.order_id}', 'qris')" class="mt-2 bg-green-500 text-white text-xs px-2 py-1 rounded hover:bg-green-600 transition-all block w-full">
                                                ‚úÖ Konfirmasi QRIS
                                            </button>
                                        </div>
                                    </div>
                                `;
                            } else {
                                proofStatus = `
                                    <div class="text-center">
                                        <div class="bg-yellow-100 rounded-lg p-2">
                                            <div class="text-2xl mb-1">‚è≥</div>
                                            <div class="text-xs text-yellow-700 font-semibold">Menunggu Bukti</div>
                                        </div>
                                    </div>
                                `;
                            }
                        }
                        
                        // Create a row for each item in the order
                        items.forEach((item, index) => {
                            const variantName = item.variant.replace(/-/g, ' ').replace(/\b\w/g, l => l.toUpperCase());
                            const spicyLevelText = item.spicyLevel ? ` (Level ${item.spicyLevel})` : '';
                            
                            tableRows += `
                                <tr class="border-b border-gray-200 hover:bg-gray-50">
                                    ${index === 0 ? `
                                        <td class="px-4 py-3 font-poppins text-sm font-semibold text-gray-800 border-r border-gray-200" rowspan="${items.length}">
                                            ${order.order_id}
                                        </td>
                                        <td class="px-4 py-3 font-poppins text-sm text-gray-800 border-r border-gray-200" rowspan="${items.length}">
                                            <div class="font-semibold">${order.customer_name}</div>
                                            <div class="text-xs text-gray-600">${order.customer_phone}</div>
                                        </td>
                                        <td class="px-4 py-3 font-poppins text-sm text-gray-800 border-r border-gray-200" rowspan="${items.length}">
                                            <div class="font-semibold">${orderDate}</div>
                                            <div class="text-xs text-gray-600">${orderTime}</div>
                                        </td>
                                    ` : ''}
                                    <td class="px-4 py-3 font-poppins text-sm text-gray-800 border-r border-gray-200">
                                        ${variantName}${spicyLevelText}
                                    </td>
                                    <td class="px-4 py-3 font-poppins text-sm text-gray-800 border-r border-gray-200 text-center">
                                        ${item.size}
                                    </td>
                                    <td class="px-4 py-3 font-poppins text-sm text-gray-800 border-r border-gray-200 text-right">
                                        Rp ${item.price.toLocaleString()}
                                    </td>
                                    <td class="px-4 py-3 font-poppins text-sm text-gray-800 border-r border-gray-200 text-center">
                                        ${item.quantity}
                                    </td>
                                    ${index === 0 ? `
                                        <td class="px-4 py-3 font-fredoka text-sm font-bold text-orange-600 text-right border-r border-gray-200" rowspan="${items.length}">
                                            <div class="text-lg">Rp ${order.total_amount.toLocaleString()}</div>
                                            <div class="text-xs font-normal ${order.payment_method === 'cash' ? 'text-green-600' : order.payment_method === 'cod' ? 'text-orange-600' : 'text-blue-600'}">
                                                ${order.payment_method === 'cash' ? 'üíµ Tunai' : order.payment_method === 'cod' ? 'üöö COD' : 'üì± QRIS'}
                                            </div>
                                            ${order.notes ? `<div class="text-xs font-normal text-gray-500 mt-1 italic">"${order.notes}"</div>` : ''}
                                        </td>
                                        <td class="px-4 py-3 text-center border-r border-gray-200" rowspan="${items.length}">
                                            ${proofStatus}
                                        </td>
                                    ` : ''}
                                </tr>
                            `;
                        });
                    });
                
                ordersList.innerHTML = `
                    <table class="min-w-full bg-white rounded-xl overflow-hidden shadow-sm">
                        <thead class="bg-gradient-to-r from-orange-500 to-pink-500 text-white">
                            <tr>
                                <th class="px-4 py-3 text-left font-fredoka font-bold text-sm">No. Order</th>
                                <th class="px-4 py-3 text-left font-fredoka font-bold text-sm">Nama Pelanggan</th>
                                <th class="px-4 py-3 text-left font-fredoka font-bold text-sm">Tanggal & Waktu</th>
                                <th class="px-4 py-3 text-left font-fredoka font-bold text-sm">Varian</th>
                                <th class="px-4 py-3 text-center font-fredoka font-bold text-sm">Ukuran</th>
                                <th class="px-4 py-3 text-right font-fredoka font-bold text-sm">Harga Satuan</th>
                                <th class="px-4 py-3 text-center font-fredoka font-bold text-sm">Jumlah</th>
                                <th class="px-4 py-3 text-right font-fredoka font-bold text-sm">Total Pesanan</th>
                                <th class="px-4 py-3 text-center font-fredoka font-bold text-sm">Status Pembayaran</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${tableRows}
                        </tbody>
                    </table>
                `;
            }
        }

        // Update proofs grid
        function updateProofsGrid() {
            const proofsGrid = document.getElementById('admin-proofs-grid');
            
            // Filter orders with QRIS payment proofs
            const qrisOrders = orders.filter(order => 
                order.payment_method === 'qris' && 
                order.payment_proof && 
                order.payment_proof.startsWith('data:image')
            );
            
            // Update stats
            const totalProofs = qrisOrders.length;
            const pendingProofs = qrisOrders.filter(order => order.order_status === 'pending').length;
            const confirmedProofs = qrisOrders.filter(order => order.order_status === 'confirmed').length;
            
            // Calculate estimated data size (rough estimate)
            const estimatedSize = qrisOrders.reduce((total, order) => {
                const base64Length = order.payment_proof.length;
                const sizeInBytes = (base64Length * 3) / 4; // Base64 to bytes conversion
                return total + sizeInBytes;
            }, 0);
            const sizeInMB = (estimatedSize / (1024 * 1024)).toFixed(1);
            
            document.getElementById('admin-total-proofs').textContent = totalProofs;
            document.getElementById('admin-pending-proofs').textContent = pendingProofs;
            document.getElementById('admin-confirmed-proofs').textContent = confirmedProofs;
            document.getElementById('admin-data-size').textContent = `${sizeInMB} MB`;
            
            if (qrisOrders.length === 0) {
                proofsGrid.innerHTML = `
                    <div class="text-center py-8 text-gray-500 col-span-full">
                        <div class="text-4xl mb-2">üìÅ</div>
                        <p class="font-poppins">Belum ada bukti pembayaran</p>
                    </div>
                `;
            } else {
                proofsGrid.innerHTML = qrisOrders
                    .sort((a, b) => new Date(b.proof_upload_date) - new Date(a.proof_upload_date))
                    .map(order => {
                        const uploadDate = new Date(order.proof_upload_date).toLocaleDateString('id-ID', {
                            day: '2-digit',
                            month: 'short',
                            hour: '2-digit',
                            minute: '2-digit'
                        });
                        
                        const statusBadge = order.order_status === 'confirmed' 
                            ? '<span class="bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full font-semibold">‚úÖ Dikonfirmasi</span>'
                            : '<span class="bg-yellow-100 text-yellow-800 text-xs px-2 py-1 rounded-full font-semibold">‚è≥ Menunggu</span>';
                        
                        return `
                            <div class="bg-white rounded-xl p-4 shadow-sm border border-gray-200 hover:shadow-md transition-all">
                                <div class="text-center mb-3">
                                    <img src="${order.payment_proof}" alt="Bukti Pembayaran" class="w-full h-32 object-cover rounded-lg shadow-sm cursor-pointer hover:opacity-80 transition-all" onclick="viewPaymentProof('${order.payment_proof}', '${order.order_id}')">
                                </div>
                                
                                <div class="space-y-2">
                                    <div class="text-center">
                                        <div class="font-fredoka font-bold text-gray-800 text-sm">${order.order_id}</div>
                                        <div class="font-poppins text-xs text-gray-600">${order.customer_name}</div>
                                    </div>
                                    
                                    <div class="text-center">
                                        <div class="font-fredoka font-bold text-orange-600">Rp ${order.total_amount.toLocaleString()}</div>
                                        <div class="font-poppins text-xs text-gray-500">${uploadDate}</div>
                                    </div>
                                    
                                    <div class="text-center">
                                        ${statusBadge}
                                    </div>
                                    
                                    <div class="flex space-x-2">
                                        <button onclick="viewPaymentProof('${order.payment_proof}', '${order.order_id}')" class="flex-1 bg-blue-500 text-white text-xs px-3 py-2 rounded-lg hover:bg-blue-600 transition-all flex items-center justify-center space-x-1">
                                            <span>üëÅÔ∏è</span>
                                            <span>Lihat Detail</span>
                                        </button>
                                        
                                        ${order.order_status === 'pending' ? `
                                            <button onclick="confirmPayment('${order.order_id}', 'qris')" class="flex-1 bg-green-500 text-white text-xs px-3 py-2 rounded-lg hover:bg-green-600 transition-all flex items-center justify-center space-x-1">
                                                <span>‚úÖ</span>
                                                <span>Konfirmasi</span>
                                            </button>
                                        ` : `
                                            <button onclick="downloadProofImage('${order.payment_proof}', '${order.order_id}')" class="flex-1 bg-gray-500 text-white text-xs px-3 py-2 rounded-lg hover:bg-gray-600 transition-all flex items-center justify-center space-x-1">
                                                <span>üì•</span>
                                                <span>Download</span>
                                            </button>
                                        `}
                                    </div>
                                </div>
                            </div>
                        `;
                    }).join('');
            }
        }

        // Confirm payment (admin function)
        async function confirmPayment(orderId, paymentMethod) {
            try {
                const order = orders.find(o => o.order_id === orderId);
                if (!order) {
                    throw new Error('Pesanan tidak ditemukan');
                }
                
                // Update order status
                order.order_status = 'confirmed';
                order.proof_upload_date = new Date().toISOString();
                
                if (paymentMethod === 'cash') {
                    order.payment_proof = 'cash_confirmed';
                } else if (paymentMethod === 'cod') {
                    order.payment_proof = 'cod_confirmed';
                }
                
                const result = await window.dataSdk.update(order);
                if (result.isOk) {
                    showNotification(`Pembayaran ${paymentMethod.toUpperCase()} berhasil dikonfirmasi! ‚úÖ`, 'success');
                    updateAdminDashboard();
                } else {
                    throw new Error('Gagal mengupdate status pesanan');
                }
            } catch (error) {
                console.error('Error confirming payment:', error);
                showNotification(`Gagal konfirmasi pembayaran: ${error.message}`, 'error');
            }
        }

        // View delivery address
        function viewDeliveryAddress(orderId) {
            const order = orders.find(o => o.order_id === orderId);
            if (!order || !order.delivery_address) {
                showNotification('Alamat pengantaran tidak ditemukan', 'error');
                return;
            }
            
            try {
                const address = JSON.parse(order.delivery_address);
                const addressDetails = document.getElementById('address-details');
                
                addressDetails.innerHTML = `
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="font-poppins font-semibold text-gray-700 text-sm">Nama Penerima:</label>
                            <p class="font-poppins text-gray-800">${address.receiver_name}</p>
                        </div>
                        <div>
                            <label class="font-poppins font-semibold text-gray-700 text-sm">Nomor HP:</label>
                            <p class="font-poppins text-gray-800">${address.receiver_phone}</p>
                        </div>
                    </div>
                    
                    <div class="mt-3</script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'996384f2305e8819',t:'MTc2MTc0OTc4NC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
